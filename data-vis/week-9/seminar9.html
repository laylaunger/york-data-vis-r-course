<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-de84f8d6bb715db06a919283c2d1e787.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.42">

  <title>Data Visualisation – Week 9 Seminar: Shiny Apps 1</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-8f3eebe07241f08526c91a7e9cbef8fd.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <script async="" src="https://hypothes.is/embed.js"></script>
  <script>
    window.document.addEventListener("DOMContentLoaded", function (_event) {
      document.body.classList.add('hypothesis-enabled');
    });
  </script>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>

  <link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Week 9 Seminar: Shiny Apps 1</h1>

<div class="quarto-title-authors">
</div>

</section>
<section id="from-last-time" class="slide level2">
<h2>From last time</h2>
<ul>
<li>Value of reproducible reports</li>
<li>Basic anatomy of a Quarto report</li>
<li>How to build a Quarto report combining prose, code and figures
<ul>
<li>YAML header, setup chunk, and body sections</li>
<li>Embedded code chunks with chunk options to control output</li>
</ul></li>
<li>Project structure and workflow</li>
</ul>
<aside class="notes">
<p>Briefly remind students of Week 8:</p>
<ul>
<li>They learned how to structure a Quarto report with YAML, a setup chunk, and a body that mixes text, code, and figures.</li>
<li>The therapy example report showed multi-panel figures and polished ggplots, using many of the visualisation techniques from Weeks 3–7.</li>
</ul>
<p>Set up today as “the next step”: taking similar analyses and turning them into interactive tools.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="today" class="slide level2">
<h2>Today</h2>
<ul>
<li>Why build a Shiny app?</li>
<li>Inspect a finished Shiny app</li>
<li>Basic anatomy of a Shiny app</li>
<li>How to build a simple Shiny app</li>
<li>Project structure and workflow</li>
</ul>
<aside class="notes">
<p>Give a quick overview of the plan:</p>
<ul>
<li>First, motivation and context.</li>
<li>Then a quick look at what a finished Shiny app can do.</li>
<li>Then the “anatomy”: the parts that make up any Shiny app.</li>
<li>Then we build up a small app step by step.</li>
<li>Finally, we connect this to their project structure and the assessment.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="today-1" class="slide level2">
<h2>Today</h2>
<ul>
<li><strong>Why build a Shiny app?</strong></li>
</ul>
</section>
<section id="why-build-a-shiny-app" class="slide level2">
<h2>Why build a Shiny app?</h2>
<ul>
<li>Reports (Quarto) are great for:
<ul>
<li>Communicating a <strong>fixed story</strong></li>
<li>Sharing key results and interpretations</li>
</ul></li>
<li>Shiny apps are great for:
<ul>
<li><strong>Exploring</strong> data interactively</li>
</ul></li>
</ul>
<aside class="notes">
<p>Contrast Quarto and Shiny:</p>
<ul>
<li>Quarto reports are like a polished article or mini-paper.</li>
<li>Shiny apps are like interactive dashboards: people can change inputs and immediately see updated plots.</li>
</ul>
<p>Emphasise that both use the <em>same R and ggplot skills</em> they already have.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="why-build-a-shiny-app-1" class="slide level2">
<h2>Why build a Shiny app?</h2>
<ul>
<li>Example applications in human data science:
<ul>
<li>Explore how outcomes change across <strong>groups</strong> or <strong>predictors</strong></li>
<li>Live updates on projects as new data come in</li>
</ul></li>
<li>Advantages:
<ul>
<li>Let collaborators, supervisors and users “play with” the data</li>
<li>Demonstrate findings in a more engaging way</li>
</ul></li>
</ul>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="today-2" class="slide level2">
<h2>Today</h2>
<ul>
<li><strong>Inspect a finished Shiny app</strong></li>
</ul>
</section>
<section id="a-finished-example" class="slide level2">
<h2>A finished example</h2>
<ul>
<li>Our example app for this week:
<ul>
<li>Uses the <strong>therapy dataset</strong></li>
<li>Shows how <code>support_level</code> is related to outcomes</li>
<li>Allows the user to choose one of two outcomes and to add individual data points</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" data-quarto-postprocess="true" style="font-size: 18px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">support_level</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">therapy</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">age</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">loneliness_score</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">wellbeing_score</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">sleep_quality</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">sex</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">year</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; background-color: yellow !important;">Medium</td>
<td style="text-align: left; background-color: yellow !important;">Yes</td>
<td style="text-align: right;">23</td>
<td style="text-align: right; background-color: yellow !important;">69</td>
<td style="text-align: right; background-color: yellow !important;">63</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Male</td>
<td style="text-align: right;">2022</td>
</tr>
<tr class="even">
<td style="text-align: left; background-color: yellow !important;">Medium</td>
<td style="text-align: left; background-color: yellow !important;">Yes</td>
<td style="text-align: right;">31</td>
<td style="text-align: right; background-color: yellow !important;">46</td>
<td style="text-align: right; background-color: yellow !important;">89</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Male</td>
<td style="text-align: right;">2019</td>
</tr>
<tr class="odd">
<td style="text-align: left; background-color: yellow !important;">High</td>
<td style="text-align: left; background-color: yellow !important;">Yes</td>
<td style="text-align: right;">35</td>
<td style="text-align: right; background-color: yellow !important;">46</td>
<td style="text-align: right; background-color: yellow !important;">80</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Male</td>
<td style="text-align: right;">2019</td>
</tr>
<tr class="even">
<td style="text-align: left; background-color: yellow !important;">Low</td>
<td style="text-align: left; background-color: yellow !important;">No</td>
<td style="text-align: right;">29</td>
<td style="text-align: right; background-color: yellow !important;">40</td>
<td style="text-align: right; background-color: yellow !important;">46</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">Female</td>
<td style="text-align: right;">2020</td>
</tr>
<tr class="odd">
<td style="text-align: left; background-color: yellow !important;">Low</td>
<td style="text-align: left; background-color: yellow !important;">Yes</td>
<td style="text-align: right;">34</td>
<td style="text-align: right; background-color: yellow !important;">40</td>
<td style="text-align: right; background-color: yellow !important;">69</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">Female</td>
<td style="text-align: right;">2022</td>
</tr>
<tr class="even">
<td style="text-align: left; background-color: yellow !important;">Low</td>
<td style="text-align: left; background-color: yellow !important;">No</td>
<td style="text-align: right;">25</td>
<td style="text-align: right; background-color: yellow !important;">68</td>
<td style="text-align: right; background-color: yellow !important;">38</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Male</td>
<td style="text-align: right;">2019</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="a-finished-example-1" class="slide level2">
<h2>A finished example</h2>
<ul>
<li>Our example app for this week:
<ul>
<li>Uses the <strong>therapy dataset</strong></li>
<li>Shows how <code>support_level</code> is related to outcomes</li>
<li>Allows the user to choose one of two outcomes and to add individual data points</li>
</ul></li>
</ul>
<p>Full app: <a href="https://laylaunger.shinyapps.io/week-9/">Open the example Shiny app</a></p>
</section>
<section id="a-finished-example-2" class="slide level2">
<h2>A finished example</h2>
<ul>
<li>Can you recognize the plot elements?
<ul>
<li>What kind of plot is this?</li>
<li>What do you think is added to the ggplot code when the user checks the “Show individual data points” box?</li>
</ul></li>
</ul>
</section>
<section id="today-3" class="slide level2">
<h2>Today</h2>
<ul>
<li><strong>Basic anatomy of a Shiny app</strong></li>
</ul>
</section>
<section id="what-is-a-web-app" class="slide level2">
<h2>What is a web app?</h2>
<ul>
<li>A <strong>web application</strong> is:
<ul>
<li>A web page you can <strong>interact</strong> with (clicks, sliders, dropdowns)</li>
<li>The display updates automatically in response</li>
</ul></li>
<li>Most things you interact with in a browser are web apps:
<ul>
<li>E.g., online forms</li>
</ul></li>
</ul>
<aside class="notes">
<p>Keep this conceptual and light:</p>
<ul>
<li>Emphasise that they already use web apps all the time (e.g., banking, booking systems).</li>
<li>The core idea: interactions in the browser trigger updates behind the scenes.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="how-does-a-web-app-work" class="slide level2">
<h2>How does a web app work?</h2>
<div>
<p><strong>User interface (UI) that the user sees</strong></p>
<ul>
<li class="fragment">What the user sees in the browser</li>
<li class="fragment">Fixed (unchanging) elements such as a title for the webpage</li>
<li class="fragment">User input options: dropdown menus, checkboxes, buttons</li>
<li class="fragment">Plots shown as output in response to user inputs</li>
</ul>
</div>
<div>
<p><strong>Server (backend)</strong></p>
<ul>
<li class="fragment">Code that does the work when the user interacts</li>
<li class="fragment">Reads the user’s inputs and sends back updated outputs to the user</li>
</ul>
</div>
<aside class="notes">
<p>Relate this to everyday examples:</p>
<ul>
<li>Entering values into tax software → server calculates refund.</li>
<li>Choosing filters on a data dashboard → server recomputes the plot.</li>
</ul>
<p>Set up the parallel: Shiny will give us these two parts using <em>R code</em>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-is-shiny" class="slide level2">
<h2>What is Shiny?</h2>
<div>
<ul>
<li class="fragment"><strong>Shiny</strong> is an R package for building web apps:
<ul>
<li class="fragment">You write the <strong>user interface</strong> (UI) in R</li>
<li class="fragment">You write the <strong>server logic</strong> in R</li>
<li class="fragment">Shiny connects them and runs the app</li>
</ul></li>
<li class="fragment">Builds on what you already know:
<ul>
<li class="fragment">You stay inside RStudio and use a similar project workflow / setup</li>
<li class="fragment">You can use the same kind of ggplot2 code to create plots in your apps</li>
</ul></li>
</ul>
</div>
<aside class="notes">
<p>Underline the “no need to be a web developer” message:</p>
<ul>
<li>They do not need to learn HTML, CSS, or JavaScript.</li>
<li>Shiny lets them re-use their R and ggplot skills.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="return-to-the-example-app" class="slide level2">
<h2>Return to the example app</h2>
<p>To create this app, under the hood, there is:</p>
<div>
<ol type="1">
<li class="fragment">A bit of familiar code to read in the data</li>
<li class="fragment">The <strong>ui</strong>, which shows the title, a user input dropdown menu and a user input checkbox, and a plot</li>
<li class="fragment">The <strong>server logic</strong> that generates the plot, and customizes it based on the user’s input</li>
<li class="fragment">A simple final line that launches the shiny app using the ui and server logic</li>
</ol>
</div>
</section>
<section id="today-4" class="slide level2">
<h2>Today</h2>
<ul>
<li><strong>How to build a simple Shiny app</strong></li>
</ul>
</section>
<section id="today-5" class="slide level2">
<h2>Today</h2>
<ul>
<li>How to build a simple Shiny app
<ul>
<li><strong>Overview and basic skeleton</strong></li>
</ul></li>
</ul>
</section>
<section id="building-a-shiny-app-overview" class="slide level2">
<h2>Building a Shiny app: Overview</h2>
<ul>
<li>A file called <strong>app.R</strong> that lives in your project folder</li>
<li>You can run the app locally in RStudio</li>
</ul>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="building-a-shiny-app-overview-1" class="slide level2">
<h2>Building a Shiny app: Overview</h2>
<p>Within this file, you:</p>
<div>
<ol type="1">
<li class="fragment">Include any initial setup steps, such as loading libraries, reading in data</li>
<li class="fragment">Build the <strong>ui</strong> specify what is shown to the user: fixed content, user <strong>input</strong> options, dynamic outputs</li>
<li class="fragment">Build the <strong>server</strong> logic as a function that uses user <strong>inputs</strong> from the ui to generate <strong>dynamic outputs</strong> in the ui</li>
<li class="fragment">Include a simple final line to launch the app</li>
</ol>
</div>
<aside class="notes">

<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="inputs-and-outputs" class="slide level2">
<h2>Inputs and outputs</h2>
<ul>
<li><strong>Inputs</strong>
<ul>
<li>The ui defines user input options (e.g., checkboxes, menus)</li>
<li>The user’s input (e.g., their dropdown menu choice) is <strong>stored as part of an object called input</strong></li>
<li>The server can read and use the input object’s parts</li>
</ul></li>
<li><strong>Outputs</strong>
<ul>
<li>The server function uses the input object’s parts</li>
<li>Includes code that uses those parts to create outputs, such as a plot that updates any time the user input changes</li>
</ul></li>
</ul>
</section>
<section id="building-a-shiny-app-skeleton" class="slide level2">
<h2>Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(shiny) <span class="co"># Always needed!</span></span>
<span id="cb1-2"><a></a><span class="fu">library</span>(useful_stuff)</span>
<span id="cb1-3"><a></a></span>
<span id="cb1-4"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/..."</span>)</span>
<span id="cb1-5"><a></a></span>
<span id="cb1-6"><a></a>...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Let’s make this all concrete.</p>
<p>Here’s the basic skeleton of the code you’d write in your shiny app.</p>
<p>We would typically start off with some set up steps, like loading in libraries and data. We will ALWAYS need at the very least to load the shiny library to make the shiny app run. And we typically have other libraries as well.</p>
<p>We would then typically read in data. As we did in our quarto projects, it’s useful to keep the data you need in a subfolder within the same folder as your shiny app. In the future, in your careers, you might want to do clever things like pull data from the internet, but we’ll keep this simple and always just use data that we actually have.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="building-a-shiny-app-skeleton-1" class="slide level2">
<h2>Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">library</span>(shiny) <span class="co"># Always needed!</span></span>
<span id="cb2-2"><a></a><span class="fu">library</span>(useful_stuff)</span>
<span id="cb2-3"><a></a></span>
<span id="cb2-4"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/..."</span>)</span>
<span id="cb2-5"><a></a></span>
<span id="cb2-6"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb2-7"><a></a>  <span class="co"># UI elements go here</span></span>
<span id="cb2-8"><a></a>)</span>
<span id="cb2-9"><a></a></span>
<span id="cb2-10"><a></a>...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>The next thing we do is create the ui.</p>
<p>We’ll always do this using this same basic skeleton. We create an object called ui, and we do that using a function called fluidPage.</p>
<p>Then we fill the contents of that function with everything we want in our user interface.</p>
<p>For example, in our example app, this might include the title of the app, the dropown menu and checkbox, and the plot.</p>
<p>We’ll dive into how to specify the contents of the UI in a moment.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="building-a-shiny-app-skeleton-2" class="slide level2">
<h2>Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="fu">library</span>(shiny) <span class="co"># Always needed!</span></span>
<span id="cb3-2"><a></a><span class="fu">library</span>(useful_stuff)</span>
<span id="cb3-3"><a></a></span>
<span id="cb3-4"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/..."</span>)</span>
<span id="cb3-5"><a></a></span>
<span id="cb3-6"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb3-7"><a></a>  <span class="co"># UI elements go here</span></span>
<span id="cb3-8"><a></a>)</span>
<span id="cb3-9"><a></a></span>
<span id="cb3-10"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) { </span>
<span id="cb3-11"><a></a>  ... <span class="co"># server logic goes here </span></span>
<span id="cb3-12"><a></a>  }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>The next big step is to define the server.</p>
<p>As I mentioned, this will be a function that uses the user’s input to dynamically generate and update the output that they see, like generating the boxplot where the user can dynamically change the outcome variable and add points.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="building-a-shiny-app-skeleton-3" class="slide level2">
<h2>Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">library</span>(shiny) <span class="co"># Always needed!</span></span>
<span id="cb4-2"><a></a><span class="fu">library</span>(useful_stuff)</span>
<span id="cb4-3"><a></a></span>
<span id="cb4-4"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/..."</span>)</span>
<span id="cb4-5"><a></a></span>
<span id="cb4-6"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb4-7"><a></a>  <span class="co"># UI elements go here</span></span>
<span id="cb4-8"><a></a>)</span>
<span id="cb4-9"><a></a></span>
<span id="cb4-10"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) { </span>
<span id="cb4-11"><a></a>  ... <span class="co"># server logic goes here </span></span>
<span id="cb4-12"><a></a>  }</span>
<span id="cb4-13"><a></a></span>
<span id="cb4-14"><a></a></span>
<span id="cb4-15"><a></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>And then finally, we add one simple line at the end that tells shiny to combine the ui and server into a running app</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="today-6" class="slide level2">
<h2>Today</h2>
<ul>
<li>How to build a simple Shiny app
<ul>
<li>Overview and basic skeleton</li>
<li><strong>Populate the ui</strong></li>
</ul></li>
</ul>
</section>
<section id="populate-ui" class="slide level2">
<h2>Populate UI</h2>
<p>Start with a basic UI using <code>fluidPage()</code></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb5-2"><a></a>  <span class="co"># UI elements go here</span></span>
<span id="cb5-3"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="populate-ui-functions" class="slide level2">
<h2>Populate UI: Functions</h2>
<p>Add elements using functions</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb6-2"><a></a>  <span class="co"># Each UI element is added with a function</span></span>
<span id="cb6-3"><a></a>  <span class="co"># Different functions add different kinds of UI elements, e.g.,</span></span>
<span id="cb6-4"><a></a>  <span class="co"># -- title</span></span>
<span id="cb6-5"><a></a>  <span class="co"># -- user input options</span></span>
<span id="cb6-6"><a></a>  <span class="co"># -- plot</span></span>
<span id="cb6-7"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>We can add UI elements using functions</p>
<p>There are different functions we can use to add different kinds of elements</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="populate-ui-fixed-elements" class="slide level2">
<h2>Populate UI: Fixed elements</h2>
<p>Add fixed (unchanging) elements</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="fu">library</span>(shiny)</span>
<span id="cb7-2"><a></a></span>
<span id="cb7-3"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb7-4"><a></a>  <span class="fu">titlePanel</span>(<span class="st">"Support, Therapy, and Wellbeing: Interactive"</span>),</span>
<span id="cb7-5"><a></a></span>
<span id="cb7-6"><a></a>  <span class="fu">p</span>(<span class="st">"Use the controls below to explore how outcomes vary across support levels."</span>)</span>
<span id="cb7-7"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>We can start by adding some simple, unchanging elements for the user to see.</p>
<p>For example, we’ll use a titlePanel function to add a title</p>
<p>And a little paragraph (p function) to add a bit of extra text to show the user.</p>
<p>For now, there are no inputs or outputs — just static text.</p>
<p>Similar to how your quarto projects had a title and some introductory text.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="populate-ui-inputs" class="slide level2">
<h2>Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p>The option specified by the user is stored as part of an <strong>input</strong> object</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb8-2"><a></a>  <span class="fu">titlePanel</span>(<span class="st">"Support, Therapy, and Wellbeing: Interactive"</span>),</span>
<span id="cb8-3"><a></a></span>
<span id="cb8-4"><a></a>  <span class="fu">p</span>(<span class="st">"Use the controls below to explore how outcomes vary across support levels."</span>),</span>
<span id="cb8-5"><a></a>  </span>
<span id="cb8-6"><a></a>  <span class="fu">someInput</span>( </span>
<span id="cb8-7"><a></a>    <span class="at">inputId =</span> <span class="st">"some_name"</span>, <span class="co"># name of the part in the input object</span></span>
<span id="cb8-8"><a></a>    <span class="at">label   =</span> <span class="st">"Some label:"</span>, <span class="co"># label shown to the user</span></span>
<span id="cb8-9"><a></a>    ...</span>
<span id="cb8-10"><a></a>  )</span>
<span id="cb8-11"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Now we’re ready to start adding user input controls</p>
<p>So these could be dropdown menus, checkboxes, buttons, and so on.</p>
<p>Remember, as I noted before, the user’s choice for these inputs will be stored as part of an object called “input”.</p>
<p>And each type of user input control has its own function.</p>
<p>Right now I’ve just put a generic placeholder in called someInput This isn’t a real function, it’s just to show you the general format</p>
<p>At minimum, every input function you use should specify at least these first two arguments.</p>
<p>First, the inputId. This argument will be the name of the part where the user’s choice is stored in the input object. This will allow us to read and use the user’s choice in our server code later.</p>
<p>Second, the label to show the user. This is the label that the user will see on the screen, like the label of the dropdown menu or checkbox.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="populate-ui-inputs-1" class="slide level2">
<h2>Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p>The option specified by the user is stored as part of an <strong>input</strong> object</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb9-2"><a></a>  <span class="fu">titlePanel</span>(<span class="st">"Support, Therapy, and Wellbeing: Interactive"</span>),</span>
<span id="cb9-3"><a></a></span>
<span id="cb9-4"><a></a>  <span class="fu">p</span>(<span class="st">"Use the controls below to explore how outcomes vary across support levels."</span>),</span>
<span id="cb9-5"><a></a></span>
<span id="cb9-6"><a></a>  <span class="fu">selectInput</span>(</span>
<span id="cb9-7"><a></a>    <span class="at">inputId =</span> <span class="st">"outcome"</span>,</span>
<span id="cb9-8"><a></a>    <span class="at">label   =</span> <span class="st">"Outcome to plot:"</span>,</span>
<span id="cb9-9"><a></a>    ...</span>
<span id="cb9-10"><a></a>  )</span>
<span id="cb9-11"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>For example, our example app has a dropdown menu. This dropdown menu is added using this selectInput function.</p>
<p>Remember, that dropdown menu allows the user to choose which outcome variable to plot. So, I’ve set the inputID as outcome, and given it this user-friendly label that tells them they can use the menu to choose an outcome to plot.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="populate-ui-inputs-2" class="slide level2">
<h2>Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p>The option specified by the user is stored as part of an <strong>input</strong> object</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb10-2"><a></a>  <span class="fu">titlePanel</span>(<span class="st">"Support, Therapy, and Wellbeing: Interactive"</span>),</span>
<span id="cb10-3"><a></a></span>
<span id="cb10-4"><a></a>  <span class="fu">p</span>(<span class="st">"Use the controls below to explore how outcomes vary across support levels."</span>),</span>
<span id="cb10-5"><a></a></span>
<span id="cb10-6"><a></a>  <span class="fu">selectInput</span>(</span>
<span id="cb10-7"><a></a>    <span class="at">inputId =</span> <span class="st">"outcome"</span>,</span>
<span id="cb10-8"><a></a>    <span class="at">label   =</span> <span class="st">"Outcome to plot:"</span>,</span>
<span id="cb10-9"><a></a>    ... WHAT ELSE???</span>
<span id="cb10-10"><a></a>  )</span>
<span id="cb10-11"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>But this isn’t enough to define everything about that dropdown menu.</p>
<p>What else might we need to specify here?</p>
<p>(dropdown options, default option)</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="populate-ui-inputs-3" class="slide level2">
<h2>Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p>This will <strong>add</strong> a part to the input object called <code>outcome</code></p>
<p>The value of <code>outcome</code> will depend on the user’s choice</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb11-2"><a></a>  <span class="fu">titlePanel</span>(<span class="st">"Support, Therapy, and Wellbeing: Interactive"</span>),</span>
<span id="cb11-3"><a></a></span>
<span id="cb11-4"><a></a>  <span class="fu">p</span>(<span class="st">"Use the controls below to explore how outcomes vary across support levels."</span>),</span>
<span id="cb11-5"><a></a></span>
<span id="cb11-6"><a></a>  <span class="fu">selectInput</span>(</span>
<span id="cb11-7"><a></a>    <span class="at">inputId =</span> <span class="st">"outcome"</span>,</span>
<span id="cb11-8"><a></a>    <span class="at">label   =</span> <span class="st">"Outcome to plot:"</span>,</span>
<span id="cb11-9"><a></a>    <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="cb11-10"><a></a>      <span class="st">"Wellbeing score"</span>  <span class="ot">=</span> <span class="st">"wellbeing_score"</span>,</span>
<span id="cb11-11"><a></a>      <span class="st">"Loneliness score"</span> <span class="ot">=</span> <span class="st">"loneliness_score"</span></span>
<span id="cb11-12"><a></a>    ),</span>
<span id="cb11-13"><a></a>    <span class="at">selected =</span> <span class="st">"wellbeing_score"</span></span>
<span id="cb11-14"><a></a>  )</span>
<span id="cb11-15"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>So we have additional arguments for our dropdown menu input.</p>
<p>One is called choices. Here, we define a vector that includes both: the option that the user will see in the menu, and the value that we want to store when the user chooses an option.</p>
<p>And the other is called selected. Here, we specify the default value we want to use before the user has selected anything, when they first open the app.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="populate-ui-inputs-4" class="slide level2">
<h2>Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb12-2"><a></a>  <span class="fu">titlePanel</span>(<span class="st">"Support, Therapy, and Wellbeing: Interactive"</span>),</span>
<span id="cb12-3"><a></a></span>
<span id="cb12-4"><a></a>  <span class="fu">p</span>(<span class="st">"Use the controls below to explore how outcomes vary across support levels."</span>),</span>
<span id="cb12-5"><a></a></span>
<span id="cb12-6"><a></a>  <span class="fu">selectInput</span>(</span>
<span id="cb12-7"><a></a>    <span class="at">inputId =</span> <span class="st">"outcome"</span>,</span>
<span id="cb12-8"><a></a>    <span class="at">label   =</span> <span class="st">"Outcome to plot:"</span>,</span>
<span id="cb12-9"><a></a>    <span class="at">choices =</span> <span class="fu">c</span>(</span>
<span id="cb12-10"><a></a>      <span class="st">"Wellbeing score"</span>  <span class="ot">=</span> <span class="st">"wellbeing_score"</span>,</span>
<span id="cb12-11"><a></a>      <span class="st">"Loneliness score"</span> <span class="ot">=</span> <span class="st">"loneliness_score"</span></span>
<span id="cb12-12"><a></a>    ),</span>
<span id="cb12-13"><a></a>    <span class="at">selected =</span> <span class="st">"wellbeing_score"</span></span>
<span id="cb12-14"><a></a>  ),</span>
<span id="cb12-15"><a></a>  </span>
<span id="cb12-16"><a></a>  <span class="fu">checkboxInput</span>(</span>
<span id="cb12-17"><a></a>    <span class="at">inputId =</span> <span class="st">"show_points"</span>,</span>
<span id="cb12-18"><a></a>    <span class="at">label   =</span> <span class="st">"Show individual data points"</span>,</span>
<span id="cb12-19"><a></a>    <span class="at">value   =</span> <span class="cn">FALSE</span></span>
<span id="cb12-20"><a></a>  )</span>
<span id="cb12-21"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>We can continue using the same approach to add other kinds of input optins.</p>
<p>Here I’ve added that checkbox option from the example app.</p>
<p>Note that I used a different function to create the checkbox.</p>
<p>I’ve given it its own id and label.</p>
<p>And since this is a checkbox, not a dropdwn menu, it has its own additional arguments.</p>
<p>Here, I specify the default value to store when the box is unchecked.</p>
<p>That default value is FALSE, meaning no, don’t show data points on the boxplot.</p>
<p>Again, use these values later in our server code to generate the plot based on the user’s input.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="populate-ui-inputs-5" class="slide level2">
<h2>Populate UI: Inputs</h2>
<p><br></p>
<p>What is stored?</p>
<p><br></p>
<p>Dropdown menu:</p>
<ul>
<li>A part of the <code>input</code> object called <code>outcome</code>
<ul>
<li><code>input$outcome</code></li>
</ul></li>
<li>Stores the choice selected by user
<ul>
<li>If user selects Wellbeing score, <code>input$outcome</code> will contain <code>"wellbeing_score"</code></li>
<li>If user selects Loneliness score, <code>input$outcome</code> will contain <code>"loneliness_score"</code></li>
</ul></li>
</ul>
</section>
<section id="populate-ui-inputs-6" class="slide level2">
<h2>Populate UI: Inputs</h2>
<p><br></p>
<p>What is stored?</p>
<p><br></p>
<p>Checkbox:</p>
<ul>
<li>A part of the <code>input</code> object called <code>show_points</code>
<ul>
<li><code>input$show_points</code></li>
</ul></li>
<li>Stores whether the checkbox is checked
<ul>
<li><code>TRUE</code> if checked, <code>FALSE</code> if not</li>
</ul></li>
</ul>
</section>
<section id="populate-ui-inputs-7" class="slide level2">
<h2>Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p><br></p>
<p><a href="https://shiny.posit.co/r/getstarted/shiny-basics/lesson3/">More options (“widgets”)</a></p>
</section>
<section id="populate-ui-outputs" class="slide level2">
<h2>Populate UI: Outputs</h2>
<p>Now we tell the UI where the plot will appear</p>
<p>We refer to the name of the plot we will create using the server code</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb13-2"><a></a>  ...</span>
<span id="cb13-3"><a></a></span>
<span id="cb13-4"><a></a>  <span class="fu">plotOutput</span>(<span class="st">"support_plot"</span>)</span>
<span id="cb13-5"><a></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Explain:</p>
<ul>
<li><code>plotOutput("support_plot")</code> creates a space in the UI where Shiny will display the plot.</li>
<li>The string <code>"support_plot"</code> must match the name we’ll use on the server: <code>output$support_plot</code>.</li>
</ul>
<p>Reinforce the mapping: output name in UI ↔︎ output name in server.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="today-7" class="slide level2">
<h2>Today</h2>
<ul>
<li>How to build a simple Shiny app
<ul>
<li>Overview and basic skeleton</li>
<li>Populate the ui</li>
<li><strong>Build server code</strong></li>
</ul></li>
</ul>
<aside class="notes">
<p>Now is when we switch over to building that server logic.</p>
<p>Here, we’ll use the inputs from the user to create that plot, So that the UI can then show the plot to the user.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code" class="slide level2">
<h2>Build Server Code</h2>
<p>Server is a <strong>function</strong> that uses inputs to generate outputs</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb14-2"><a></a></span>
<span id="cb14-3"><a></a>  <span class="co"># Server logic will go here</span></span>
<span id="cb14-4"><a></a></span>
<span id="cb14-5"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Point out:</p>
<ul>
<li>Every Shiny app server is a function with at least these arguments:
<ul>
<li><code>input</code> : list of all input values</li>
<li><code>output</code> : list where we store outputs</li>
<li><code>session</code>: information about the current session (not needed today)</li>
</ul></li>
</ul>
<p>For now, the body is empty — no outputs are defined yet.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-1" class="slide level2">
<h2>Build Server Code</h2>
<p>We define an output called <code>support_plot</code></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb15-2"><a></a></span>
<span id="cb15-3"><a></a>  output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> ...</span>
<span id="cb15-4"><a></a></span>
<span id="cb15-5"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>So the main output we want is that plot. And remember, in our UI, we called the plot support_plot. So we want to use that same name here.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-2" class="slide level2">
<h2>Build Server Code</h2>
<p>We define an output called <code>support_plot</code> using <code>renderPlot()</code></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb16-2"><a></a></span>
<span id="cb16-3"><a></a>  output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb16-4"><a></a></span>
<span id="cb16-5"><a></a>    <span class="fu">ggplot</span>(...)</span>
<span id="cb16-6"><a></a></span>
<span id="cb16-7"><a></a>  })</span>
<span id="cb16-8"><a></a></span>
<span id="cb16-9"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>We can create this output plot using a function called renderPlot.</p>
<p>As you might expect, this function renders a plot.</p>
<p>So inside the function, we can define the plot we want to render using ggplot, just as we’ve been using ggplot to create plots this whole time.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-3" class="slide level2">
<h2>Build Server Code</h2>
<p>We define an output called <code>support_plot</code> using <code>renderPlot()</code></p>
<p>Currently <strong>static</strong> (not responsive to user input)</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb17-2"><a></a></span>
<span id="cb17-3"><a></a>  output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb17-4"><a></a></span>
<span id="cb17-5"><a></a>    <span class="fu">ggplot</span>(therapy_df, <span class="fu">aes</span>(<span class="at">x =</span> support_level,</span>
<span id="cb17-6"><a></a>                           <span class="at">y =</span> wellbeing_score)) <span class="sc">+</span> <span class="co"># STATIC!</span></span>
<span id="cb17-7"><a></a>      <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb17-8"><a></a>                   <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb17-9"><a></a>                   <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb17-10"><a></a>                   <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb17-11"><a></a>      <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb17-12"><a></a>      <span class="fu">labs</span>(</span>
<span id="cb17-13"><a></a>        <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb17-14"><a></a>        <span class="at">y =</span> <span class="st">"Wellbeing score"</span> <span class="co"># STATIC!</span></span>
<span id="cb17-15"><a></a>      ) <span class="sc">+</span></span>
<span id="cb17-16"><a></a>      <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb17-17"><a></a></span>
<span id="cb17-18"><a></a>  })</span>
<span id="cb17-19"><a></a></span>
<span id="cb17-20"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>To start off with, let’s try just putting some familiar ggplot code here.</p>
<p>This is the same kind of ggplot code you’ve been learning how to write throughout the module, just wrapped inside <code>renderPlot({ ... })</code>.</p>
<p>At this stage, the app will show a wellbeing boxplot that does <strong>not</strong> yet respond to inputs.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-incorporate-inputs" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>Remember:</p>
<ul>
<li><code>ui</code> stored user options as parts of an object called <code>input</code></li>
<li>we gave those parts names using inputId</li>
</ul>
</section>
<section id="build-server-code-incorporate-inputs-1" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>We can now reference these <code>input</code> parts in our server code:</p>
<ul>
<li>use dollar sign notation</li>
<li>e.g., to reference the <code>outcome</code> part: <code>input$outcome</code></li>
</ul>
<p>The <strong>value</strong> of that part will be based on the user’s input</p>
<ul>
<li>e.g., if the user selected wellbeing as the outcome, then</li>
<li><code>input$outcome</code> will be <code>wellbeing_score</code></li>
</ul>
</section>
<section id="build-server-code-incorporate-inputs-2" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>Our approach:</p>
<ul>
<li>Check <code>input</code> part values</li>
<li>Use them in our server code to control our outputs</li>
</ul>
</section>
<section id="build-server-code-incorporate-inputs-3" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>Some basic programming with if-statements:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="cf">if</span>(input<span class="sc">$</span>part <span class="sc">==</span> <span class="st">"some_value"</span>) {</span>
<span id="cb18-2"><a></a></span>
<span id="cb18-3"><a></a>  ...if <span class="cn">TRUE</span>, do this...</span>
<span id="cb18-4"><a></a></span>
<span id="cb18-5"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Today, I’ll show you a very basic way to do this using some basic programing called an if-statement.</p>
<p>If-statements are common throughout programming languages - this is a very basic thing you often want to tell a computer to do.</p>
<p>Instead of having a computer always do a PARTICULAR THING, you often want it to check some condition, and then say IF that condition met, THEN do something.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-incorporate-inputs-4" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>Some basic programming with if-statements:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="cf">if</span>(input<span class="sc">$</span>part <span class="sc">==</span> <span class="st">"some_value"</span>) {</span>
<span id="cb19-2"><a></a></span>
<span id="cb19-3"><a></a>  ...if <span class="cn">TRUE</span>, do this...</span>
<span id="cb19-4"><a></a></span>
<span id="cb19-5"><a></a>} <span class="cf">else</span> {</span>
<span id="cb19-6"><a></a></span>
<span id="cb19-7"><a></a>  ...if <span class="cn">FALSE</span>, do something else...</span>
<span id="cb19-8"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>We can make this a bit more sophisticated by saying</p>
<p>IF the condition is met, then do one thing,</p>
<p>but OTHERWISE, do a DIFFERENT thing.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-incorporate-inputs-5" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>This is just one way to use inputs!</p>
<p>Showing for simplicity: avoid overburdening with new concepts</p>
<p>More approaches can be found in your <strong>reading</strong> (especially chapter 4)</p>
</section>
<section id="build-server-code-incorporate-inputs-6" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p>Make the plot respond to <code>input$outcome</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb20-2"><a></a></span>
<span id="cb20-3"><a></a>  output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb20-4"><a></a>    </span>
<span id="cb20-5"><a></a>    <span class="co"># If the user chose wellbeing_score...</span></span>
<span id="cb20-6"><a></a>    <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score"</span>) {</span>
<span id="cb20-7"><a></a>      </span>
<span id="cb20-8"><a></a>      <span class="co"># Then create output_plot as a boxplot with wellbeing_score on the y-axis</span></span>
<span id="cb20-9"><a></a>      output_plot <span class="ot">&lt;-</span> therapy_df <span class="sc">%&gt;%</span></span>
<span id="cb20-10"><a></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> support_level, <span class="at">y =</span> wellbeing_score)) <span class="sc">+</span></span>
<span id="cb20-11"><a></a>        <span class="fu">geom_boxplot</span>(</span>
<span id="cb20-12"><a></a>          <span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb20-13"><a></a>          <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb20-14"><a></a>          <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb20-15"><a></a>          <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb20-16"><a></a>        ) <span class="sc">+</span></span>
<span id="cb20-17"><a></a>        <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb20-18"><a></a>        <span class="fu">labs</span>(</span>
<span id="cb20-19"><a></a>          <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb20-20"><a></a>          <span class="at">y =</span> <span class="st">"Wellbeing score"</span></span>
<span id="cb20-21"><a></a>        ) <span class="sc">+</span></span>
<span id="cb20-22"><a></a>        <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb20-23"><a></a>    } <span class="cf">else</span> {</span>
<span id="cb20-24"><a></a>      </span>
<span id="cb20-25"><a></a>      <span class="co"># Otherwise (i.e., if the user did NOT choose wellbeing_score), </span></span>
<span id="cb20-26"><a></a>      <span class="co"># create the plot using loneliness_score as the y-axis variable</span></span>
<span id="cb20-27"><a></a>      output_plot <span class="ot">&lt;-</span> therapy_df <span class="sc">%&gt;%</span></span>
<span id="cb20-28"><a></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> support_level, <span class="at">y =</span> loneliness_score)) <span class="sc">+</span></span>
<span id="cb20-29"><a></a>        <span class="fu">geom_boxplot</span>(</span>
<span id="cb20-30"><a></a>          <span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb20-31"><a></a>          <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb20-32"><a></a>          <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb20-33"><a></a>          <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb20-34"><a></a>        ) <span class="sc">+</span></span>
<span id="cb20-35"><a></a>        <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb20-36"><a></a>        <span class="fu">labs</span>(</span>
<span id="cb20-37"><a></a>          <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb20-38"><a></a>          <span class="at">y =</span> <span class="st">"Loneliness score"</span></span>
<span id="cb20-39"><a></a>        ) <span class="sc">+</span></span>
<span id="cb20-40"><a></a>        <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb20-41"><a></a>    }</span>
<span id="cb20-42"><a></a>    </span>
<span id="cb20-43"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>This looks like a lot of code, but really it’s just two chunks of ggplot code -</p>
<p>One to run and store as the output if the user selected wellbeing, and another one to run if the user selected something else.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-incorporate-inputs-7" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p>Can chain if… else… endlessly</p>
<p>But might want a more efficient approach with &gt; 2 options!</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb21-2"><a></a></span>
<span id="cb21-3"><a></a>  output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb21-4"><a></a>    </span>
<span id="cb21-5"><a></a>    <span class="co"># If the user chose wellbeing_score...</span></span>
<span id="cb21-6"><a></a>    <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score"</span>) {</span>
<span id="cb21-7"><a></a>      </span>
<span id="cb21-8"><a></a>      <span class="co"># Then create output_plot as a boxplot with wellbeing_score on the y-axis</span></span>
<span id="cb21-9"><a></a>      output_plot <span class="ot">&lt;-</span> therapy_df <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> support_level, <span class="at">y =</span> wellbeing_score)) <span class="sc">+</span></span>
<span id="cb21-11"><a></a>        <span class="fu">geom_boxplot</span>(</span>
<span id="cb21-12"><a></a>          <span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb21-13"><a></a>          <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb21-14"><a></a>          <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb21-15"><a></a>          <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb21-16"><a></a>        ) <span class="sc">+</span></span>
<span id="cb21-17"><a></a>        <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb21-18"><a></a>        <span class="fu">labs</span>(</span>
<span id="cb21-19"><a></a>          <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb21-20"><a></a>          <span class="at">y =</span> <span class="st">"Wellbeing score"</span></span>
<span id="cb21-21"><a></a>        ) <span class="sc">+</span></span>
<span id="cb21-22"><a></a>        <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb21-23"><a></a>    } <span class="cf">else</span> {</span>
<span id="cb21-24"><a></a>      </span>
<span id="cb21-25"><a></a>      <span class="co"># Otherwise (i.e., if the user did NOT choose wellbeing_score), </span></span>
<span id="cb21-26"><a></a>      <span class="co"># create the plot using loneliness_score as the y-axis variable</span></span>
<span id="cb21-27"><a></a>      output_plot <span class="ot">&lt;-</span> therapy_df <span class="sc">%&gt;%</span></span>
<span id="cb21-28"><a></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> support_level, <span class="at">y =</span> loneliness_score)) <span class="sc">+</span></span>
<span id="cb21-29"><a></a>        <span class="fu">geom_boxplot</span>(</span>
<span id="cb21-30"><a></a>          <span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb21-31"><a></a>          <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb21-32"><a></a>          <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb21-33"><a></a>          <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb21-34"><a></a>        ) <span class="sc">+</span></span>
<span id="cb21-35"><a></a>        <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb21-36"><a></a>        <span class="fu">labs</span>(</span>
<span id="cb21-37"><a></a>          <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb21-38"><a></a>          <span class="at">y =</span> <span class="st">"Loneliness score"</span></span>
<span id="cb21-39"><a></a>        ) <span class="sc">+</span></span>
<span id="cb21-40"><a></a>        <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb21-41"><a></a>    }</span>
<span id="cb21-42"><a></a>    </span>
<span id="cb21-43"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Suppose your dropdown menu had more than just 2 options. For example, suppose we had 3 or more outcome variables that users could choose between.</p>
<p>We could keep extending this approach and chain if else statements however much we want. But this would make our code long and tedious.</p>
<p>So this is a simple but potentially tedious approach. There are other more efficient approaches.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-incorporate-inputs-8" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p>Optionally adding points based on checkbox?</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a>output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb22-2"><a></a></span>
<span id="cb22-3"><a></a>  <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score) {</span></span>
<span id="cb22-4"><a></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb22-5"><a></a><span class="st">} else {</span></span>
<span id="cb22-6"><a></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb22-7"><a></a><span class="st">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>So now we’ve built our two versions of our boxplot that the server can choose between based on the user input to the dropdown menu for outcome.</p>
<p>But what about that checkbox for adding points?</p>
<p>We need to make our server code respond to that checkbox as well.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-incorporate-inputs-9" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p>Optionally adding points based on checkbox</p>
<p>Remember:</p>
<ul>
<li>our ui code stored the user’s choice in the checkbox as <code>input$show_points</code></li>
<li>by default, the value of <code>input$show_points</code> was <code>FALSE</code></li>
<li>if the user checks the box, it switches to <code>TRUE</code></li>
</ul>
</section>
<section id="build-server-code-incorporate-inputs-10" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p>Optionally adding points based on checkbox</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a>output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb23-2"><a></a></span>
<span id="cb23-3"><a></a>  <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score) {</span></span>
<span id="cb23-4"><a></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb23-5"><a></a><span class="st">} else {</span></span>
<span id="cb23-6"><a></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb23-7"><a></a><span class="st">}</span></span>
<span id="cb23-8"><a></a></span>
<span id="cb23-9"><a></a><span class="st">  if (input$show_points) {</span></span>
<span id="cb23-10"><a></a><span class="st">    output_plot &lt;- output_plot + # ADD the geom_point layer</span></span>
<span id="cb23-11"><a></a><span class="st">      geom_point(position = position_jitter(width = 0.1), alpha = 0.4)</span></span>
<span id="cb23-12"><a></a><span class="st">  }</span></span>
<span id="cb23-13"><a></a></span>
<span id="cb23-14"><a></a><span class="st">})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>So we just need to have our server code check whether show_points is TRUE.</p>
<p>If it is true, then we just add a geom_point layer to our plot.</p>
<p>If show_points is FALSE, if the box isn’t checked, this won’t be added.</p>
<p>So this shows you how you can use a checkbox to toggle a feature on or off.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="build-server-code-incorporate-inputs-11" class="slide level2">
<h2>Build Server Code: Incorporate Inputs</h2>
<p>Show the plot at the end!</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb24-2"><a></a></span>
<span id="cb24-3"><a></a>  <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score) {</span></span>
<span id="cb24-4"><a></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb24-5"><a></a><span class="st">} else {</span></span>
<span id="cb24-6"><a></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb24-7"><a></a><span class="st">}</span></span>
<span id="cb24-8"><a></a></span>
<span id="cb24-9"><a></a><span class="st">  if (input$show_points) {</span></span>
<span id="cb24-10"><a></a><span class="st">   ...</span></span>
<span id="cb24-11"><a></a><span class="st">  }</span></span>
<span id="cb24-12"><a></a><span class="st">  </span></span>
<span id="cb24-13"><a></a><span class="st">  output_plot</span></span>
<span id="cb24-14"><a></a></span>
<span id="cb24-15"><a></a><span class="st">})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="today-8" class="slide level2">
<h2>Today</h2>
<ul>
<li><strong>How to build a simple Shiny app</strong></li>
</ul>
<aside class="notes">
<p>Now we have all the parts of our app. Let’s just review what we’ve built.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="building-a-shiny-app-skeleton-4" class="slide level2">
<h2>Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a><span class="fu">library</span>(shiny) <span class="co"># Always needed!</span></span>
<span id="cb25-2"><a></a><span class="fu">library</span>(useful_stuff)</span>
<span id="cb25-3"><a></a></span>
<span id="cb25-4"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/..."</span>)</span>
<span id="cb25-5"><a></a></span>
<span id="cb25-6"><a></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb25-7"><a></a>  <span class="co"># UI elements: fixed content, UI input options, dynamic output</span></span>
<span id="cb25-8"><a></a>)</span>
<span id="cb25-9"><a></a></span>
<span id="cb25-10"><a></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) { </span>
<span id="cb25-11"><a></a>  ... <span class="co"># server function used inputs to generate dynamic output</span></span>
<span id="cb25-12"><a></a>  }</span>
<span id="cb25-13"><a></a></span>
<span id="cb25-14"><a></a></span>
<span id="cb25-15"><a></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server) <span class="co"># connect the ui and server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>To go back to ur basic skeleton…</p>
<p>We have some setup steps at the beginning to load packages and read in data.</p>
<p>We specified the parts of our UI – Some fixed content like a title – Interactive user input options - dropdown menu and checkbox – A dynamic output</p>
<p>We built our server code – Used user inputs to dynamically generate an output plot</p>
<p>And then lastly, we just have this final line that’s needed to connect the ui and server.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="today-9" class="slide level2">
<h2>Today</h2>
<ul>
<li>Why build a Shiny app?</li>
<li>Inspect a finished Shiny app</li>
<li>Basic anatomy of a Shiny app</li>
<li>How to build a simple Shiny app</li>
<li><strong>Project structure and workflow</strong></li>
</ul>
</section>
<section id="project-structure-for-shiny-apps" class="slide level2">
<h2>Project structure for Shiny apps</h2>
<p>A simple recommended structure:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a>data<span class="sc">-</span>vis<span class="sc">/</span></span>
<span id="cb26-2"><a></a>  data<span class="sc">-</span>vis.Rproj</span>
<span id="cb26-3"><a></a>  data<span class="sc">/</span></span>
<span id="cb26-4"><a></a>    therapy_dataset.csv</span>
<span id="cb26-5"><a></a>  app.R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>Explain:</p>
<ul>
<li>Keep <code>app.R</code> in the <strong>project root</strong> alongside their Quarto files.</li>
<li>Keep data in a <code>data/</code> folder, using relative paths.</li>
<li>This mirrors the structure used for their reports.</li>
</ul>
<p>Highlight that this structure will make it easier to zip the whole project for submission.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="how-to-create-app.r-in-rstudio" class="slide level2">
<h2>How to create <code>app.R</code> in RStudio</h2>
<ol type="1">
<li>Have your folder and RStudio project setup</li>
<li>Go to <strong>File → New File → R Script</strong></li>
<li>Save the file as <strong><code>app.R</code></strong> in the project root</li>
<li>Edit:
<ul>
<li>Setup</li>
<li>UI (text, inputs, plotOutput)</li>
<li>Server (renderPlot code)</li>
</ul></li>
<li>Try running by clicking <strong>Run App</strong> in the top-right of the script pane</li>
</ol>
<aside class="notes">
<p>Stress that they <em>do not</em> need to use “New Shiny Web App”:</p>
<ul>
<li>Creating a plain R script and saving it as <code>app.R</code> is simpler and keeps everything in one project.</li>
<li>This is also what you will expect in the final assessment.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="troubleshooting-common-issues" class="slide level2">
<h2>Troubleshooting: common issues</h2>
<ul>
<li><strong>Package not found</strong>
<ul>
<li>Add <code>library(shiny)</code> and other libraries at the top of <code>app.R</code></li>
</ul></li>
<li><strong>File not found</strong>
<ul>
<li>Check the path to your data and that it’s inside the project (e.g., <code>data/therapy_dataset.csv</code>)</li>
</ul></li>
<li><strong>Input or output not found</strong>
<ul>
<li>Do <code>inputId</code> and <code>output$...</code> names match between UI and server?</li>
</ul></li>
</ul>
<aside class="notes">
<p>Encourage students to read error messages:</p>
<ul>
<li>Errors often tell them whether the problem is in the UI or server, and which name is missing.</li>
</ul>
<p>Reassure them that this is normal; debugging is part of the process.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="summary" class="slide level2">
<h2>Summary</h2>
<p><br></p>
<ul>
<li>What a Shiny app is and why we might use one</li>
<li>The <strong>anatomy</strong> of a Shiny app (user interface and server)</li>
<li>Built a simple interactive app with <code>ui</code> and <code>server</code> that dynamically generates a plot</li>
<li>Organise <code>app.R</code> and data files in a project structure</li>
</ul>
<aside class="notes">
<p>Close the loop:</p>
<ul>
<li>Connect back to the final assessment: this is roughly the level and structure you expect, with Week 10 adding more advanced layout and features.</li>
<li>Invite questions, especially around the UI/server mapping and how to think about inputs and outputs.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1200,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>