<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Layla Unger">
<title>Week 9 Seminar: Shiny Apps 1 – Data Visualisation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-3084c59541715b928ed342732e9d4313.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script><script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Data Visualisation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Welcome!</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../data-vis/data-vis.html" aria-current="page"> 
<span class="menu-text">PSY00122M-A</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/laylaunger" title="Layla on GitHub" class="quarto-navigation-tool px-1" aria-label="Layla on GitHub"><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../data-vis/week-9/overview9.html">Week 9: Shiny Apps 1</a></li><li class="breadcrumb-item"><a href="../../data-vis/week-9/seminar9.html">Seminar</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/data-vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualisation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 1: Principles of Data Visualisation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/overview1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/study_before1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/seminar1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/practical1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/study_after1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 2: Grammar of Graphics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/overview2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/study_before2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/seminar2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/practical2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/study_after2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 3: Distributions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/overview3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/study_before3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/seminar3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/practical3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/study_after3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 4: Barplots for Categorical Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/overview4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/study_before4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/seminar4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/practical4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/study_after4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 5: Relationships between Variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/overview5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/study_before5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/seminar5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/practical5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/study_after5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 6: Time Series and Line Plots</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/overview6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/study_before6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/seminar6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/practical6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/study_after6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 7: Advanced Customizations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/overview7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/study_before7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/seminar7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/practical7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/study_after7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 8: Quarto Reports</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/overview8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/study_before8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/seminar8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/practical8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/study_after8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 9: Shiny Apps 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/overview9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/study_before9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/seminar9.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/practical9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/study_after9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="seminar9.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../data-vis/week-9/overview9.html">Week 9: Shiny Apps 1</a></li><li class="breadcrumb-item"><a href="../../data-vis/week-9/seminar9.html">Seminar</a></li></ol></nav><div class="quarto-title">
<h1 class="title">Week 9 Seminar: Shiny Apps 1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><hr>
<section id="from-last-time" class="level2"><h2 class="anchored" data-anchor-id="from-last-time">From last time</h2>
<ul>
<li>Value of reproducible reports</li>
<li>Basic anatomy of a Quarto report</li>
<li>How to build a Quarto report combining prose, code and figures
<ul>
<li>YAML header, setup chunk, and body sections</li>
<li>Embedded code chunks with chunk options to control output</li>
</ul>
</li>
<li>Project structure and workflow</li>
</ul>
<div class="notes">
<p>Briefly remind students of Week 8:</p>
<ul>
<li>They learned how to structure a Quarto report with YAML, a setup chunk, and a body that mixes text, code, and figures.</li>
<li>The therapy example report showed multi-panel figures and polished ggplots, using many of the visualisation techniques from Weeks 3–7.</li>
</ul>
<p>Set up today as “the next step”: taking similar analyses and turning them into interactive tools.</p>
</div>
<hr></section><section id="today" class="level2"><h2 class="anchored" data-anchor-id="today">Today</h2>
<ul>
<li>Why build a Shiny app?</li>
<li>Inspect a finished Shiny app</li>
<li>Basic anatomy of a Shiny app</li>
<li>How to build a simple Shiny app</li>
<li>Project structure and workflow</li>
</ul>
<div class="notes">
<p>Give a quick overview of the plan:</p>
<ul>
<li>First, motivation and context.</li>
<li>Then a quick look at what a finished Shiny app can do.</li>
<li>Then the “anatomy”: the parts that make up any Shiny app.</li>
<li>Then we build up a small app step by step.</li>
<li>Finally, we connect this to their project structure and the assessment.</li>
</ul>
</div>
<hr></section><section id="today-1" class="level2"><h2 class="anchored" data-anchor-id="today-1">Today</h2>
<ul>
<li><strong>Why build a Shiny app?</strong></li>
</ul>
<hr></section><section id="why-build-a-shiny-app" class="level2"><h2 class="anchored" data-anchor-id="why-build-a-shiny-app">Why build a Shiny app?</h2>
<ul>
<li>Reports (Quarto) are great for:
<ul>
<li>Communicating a <strong>fixed story</strong>
</li>
<li>Sharing key results and interpretations</li>
</ul>
</li>
<li>Shiny apps are great for:
<ul>
<li>
<strong>Exploring</strong> data interactively</li>
</ul>
</li>
</ul>
<div class="notes">
<p>Contrast Quarto and Shiny:</p>
<ul>
<li>Quarto reports are like a polished article or mini-paper.</li>
<li>Shiny apps are like interactive dashboards: people can change inputs and immediately see updated plots.</li>
</ul>
<p>Emphasise that both use the <em>same R and ggplot skills</em> they already have.</p>
</div>
<hr></section><section id="why-build-a-shiny-app-1" class="level2"><h2 class="anchored" data-anchor-id="why-build-a-shiny-app-1">Why build a Shiny app?</h2>
<ul>
<li>Example applications in human data science:
<ul>
<li>Explore how outcomes change across <strong>groups</strong> or <strong>predictors</strong>
</li>
<li>Live updates on projects as new data come in</li>
</ul>
</li>
<li>Advantages:
<ul>
<li>Let collaborators, supervisors and users “play with” the data</li>
<li>Demonstrate findings in a more engaging way</li>
</ul>
</li>
</ul>
<div class="notes">

</div>
<hr></section><section id="today-2" class="level2"><h2 class="anchored" data-anchor-id="today-2">Today</h2>
<ul>
<li><strong>Inspect a finished Shiny app</strong></li>
</ul>
<hr></section><section id="a-finished-example" class="level2"><h2 class="anchored" data-anchor-id="a-finished-example">A finished example</h2>
<ul>
<li>Our example app for this week:
<ul>
<li>Uses the <strong>therapy dataset</strong>
</li>
<li>Shows how <code>support_level</code> is related to outcomes</li>
<li>Allows the user to choose one of two outcomes and to add individual data points</li>
</ul>
</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead><tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">support_level</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">therapy</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">age</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">loneliness_score</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">wellbeing_score</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">sleep_quality</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">sex</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">year</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left; background-color: yellow !important;">Medium</td>
<td style="text-align: left; background-color: yellow !important;">Yes</td>
<td style="text-align: right;">23</td>
<td style="text-align: right; background-color: yellow !important;">69</td>
<td style="text-align: right; background-color: yellow !important;">63</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">Male</td>
<td style="text-align: right;">2022</td>
</tr>
<tr class="even">
<td style="text-align: left; background-color: yellow !important;">Medium</td>
<td style="text-align: left; background-color: yellow !important;">Yes</td>
<td style="text-align: right;">31</td>
<td style="text-align: right; background-color: yellow !important;">46</td>
<td style="text-align: right; background-color: yellow !important;">89</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Male</td>
<td style="text-align: right;">2019</td>
</tr>
<tr class="odd">
<td style="text-align: left; background-color: yellow !important;">High</td>
<td style="text-align: left; background-color: yellow !important;">Yes</td>
<td style="text-align: right;">35</td>
<td style="text-align: right; background-color: yellow !important;">46</td>
<td style="text-align: right; background-color: yellow !important;">80</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Male</td>
<td style="text-align: right;">2019</td>
</tr>
<tr class="even">
<td style="text-align: left; background-color: yellow !important;">Low</td>
<td style="text-align: left; background-color: yellow !important;">No</td>
<td style="text-align: right;">29</td>
<td style="text-align: right; background-color: yellow !important;">40</td>
<td style="text-align: right; background-color: yellow !important;">46</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">Female</td>
<td style="text-align: right;">2020</td>
</tr>
<tr class="odd">
<td style="text-align: left; background-color: yellow !important;">Low</td>
<td style="text-align: left; background-color: yellow !important;">Yes</td>
<td style="text-align: right;">34</td>
<td style="text-align: right; background-color: yellow !important;">40</td>
<td style="text-align: right; background-color: yellow !important;">69</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">Female</td>
<td style="text-align: right;">2022</td>
</tr>
<tr class="even">
<td style="text-align: left; background-color: yellow !important;">Low</td>
<td style="text-align: left; background-color: yellow !important;">No</td>
<td style="text-align: right;">25</td>
<td style="text-align: right; background-color: yellow !important;">68</td>
<td style="text-align: right; background-color: yellow !important;">38</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Male</td>
<td style="text-align: right;">2019</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr></section><section id="a-finished-example-1" class="level2"><h2 class="anchored" data-anchor-id="a-finished-example-1">A finished example</h2>
<ul>
<li>Our example app for this week:
<ul>
<li>Uses the <strong>therapy dataset</strong>
</li>
<li>Shows how <code>support_level</code> is related to outcomes</li>
<li>Allows the user to choose one of two outcomes and to add individual data points</li>
</ul>
</li>
</ul>
<p>Full report: <a href="https://laylaunger.shinyapps.io/week-9/">Open the example Shiny app</a></p>
<hr></section><section id="a-finished-example-2" class="level2"><h2 class="anchored" data-anchor-id="a-finished-example-2">A finished example</h2>
<ul>
<li>Can you recognize the plot elements?
<ul>
<li>What kind of plot is this?</li>
<li>What do you think is added to the ggplot code when the user checks the “Show individual data points” box?</li>
</ul>
</li>
</ul>
<hr></section><section id="today-3" class="level2"><h2 class="anchored" data-anchor-id="today-3">Today</h2>
<ul>
<li><strong>Basic anatomy of a Shiny app</strong></li>
</ul>
<hr></section><section id="what-is-a-web-app" class="level2"><h2 class="anchored" data-anchor-id="what-is-a-web-app">What is a web app?</h2>
<ul>
<li>A <strong>web application</strong> is:
<ul>
<li>A web page you can <strong>interact</strong> with (clicks, sliders, dropdowns)</li>
<li>The display updates automatically in response</li>
</ul>
</li>
<li>Most things you interact with in a browser are web apps:
<ul>
<li>E.g., online forms</li>
</ul>
</li>
</ul>
<div class="notes">
<p>Keep this conceptual and light:</p>
<ul>
<li>Emphasise that they already use web apps all the time (e.g., banking, booking systems).</li>
<li>The core idea: interactions in the browser trigger updates behind the scenes.</li>
</ul>
</div>
<hr></section><section id="how-does-a-web-app-work" class="level2"><h2 class="anchored" data-anchor-id="how-does-a-web-app-work">How does a web app work?</h2>
<div class="incremental">
<p><strong>User interface (UI) that the user sees</strong></p>
<ul class="incremental">
<li>What the user sees in the browser</li>
<li>Fixed (unchanging) elements such as a title for the webpage</li>
<li>User input options: dropdown menus, checkboxes, buttons</li>
<li>Plots shown as output in response to user inputs</li>
</ul>
</div>
<div class="incremental">
<p><strong>Server (backend)</strong></p>
<ul class="incremental">
<li>Code that does the work when the user interacts</li>
<li>Reads the user’s inputs and sends back updated outputs to the user</li>
</ul>
</div>
<div class="notes">
<p>Relate this to everyday examples:</p>
<ul>
<li>Entering values into tax software → server calculates refund.</li>
<li>Choosing filters on a data dashboard → server recomputes the plot.</li>
</ul>
<p>Set up the parallel: Shiny will give us these two parts using <em>R code</em>.</p>
</div>
<hr></section><section id="what-is-shiny" class="level2"><h2 class="anchored" data-anchor-id="what-is-shiny">What is Shiny?</h2>
<div class="incremental">
<ul class="incremental">
<li>
<strong>Shiny</strong> is an R package for building web apps:
<ul class="incremental">
<li>You write the <strong>user interface</strong> (UI) in R</li>
<li>You write the <strong>server logic</strong> in R</li>
<li>Shiny connects them and runs the app</li>
</ul>
</li>
<li>Builds on what you already know:
<ul class="incremental">
<li>You stay inside RStudio and use a similar project workflow / setup</li>
<li>You can use the same kind of ggplot2 code to create plots in your apps</li>
</ul>
</li>
</ul>
</div>
<div class="notes">
<p>Underline the “no need to be a web developer” message:</p>
<ul>
<li>They do not need to learn HTML, CSS, or JavaScript.</li>
<li>Shiny lets them re-use their R and ggplot skills.</li>
</ul>
</div>
<hr></section><section id="return-to-the-example-app" class="level2"><h2 class="anchored" data-anchor-id="return-to-the-example-app">Return to the example app</h2>
<p>To create this app, under the hood, there is:</p>
<div class="incremental">
<ol class="incremental" type="1">
<li>A bit of familiar code to read in the data</li>
<li>The <strong>ui</strong>, which shows the title, a user input dropdown menu and a user input checkbox, and a plot</li>
<li>The <strong>server logic</strong> that generates the plot, and customizes it based on the user’s input</li>
<li>A simple final line that launches the shiny app using the ui and server logic</li>
</ol>
</div>
<hr></section><section id="today-4" class="level2"><h2 class="anchored" data-anchor-id="today-4">Today</h2>
<ul>
<li><strong>How to build a simple Shiny app</strong></li>
</ul>
<hr></section><section id="today-5" class="level2"><h2 class="anchored" data-anchor-id="today-5">Today</h2>
<ul>
<li>How to build a simple Shiny app
<ul>
<li><strong>Overview and basic skeleton</strong></li>
</ul>
</li>
</ul>
<hr></section><section id="building-a-shiny-app-overview" class="level2"><h2 class="anchored" data-anchor-id="building-a-shiny-app-overview">Building a Shiny app: Overview</h2>
<ul>
<li>A file called <strong>app.R</strong> that lives in your project folder</li>
<li>You can run the app locally in RStudio</li>
</ul>
<div class="notes">

</div>
<hr></section><section id="building-a-shiny-app-overview-1" class="level2"><h2 class="anchored" data-anchor-id="building-a-shiny-app-overview-1">Building a Shiny app: Overview</h2>
<p>Within this file, you:</p>
<div class="incremental">
<ol class="incremental" type="1">
<li>Include any initial setup steps, such as loading libraries, reading in data</li>
<li>Build the <strong>ui</strong> specify what is shown to the user: fixed content, user <strong>input</strong> options, dynamic outputs</li>
<li>Build the <strong>server</strong> logic as a function that uses user <strong>inputs</strong> from the ui to generate <strong>dynamic outputs</strong> in the ui</li>
<li>Include a simple final line to launch the app</li>
</ol>
</div>
<div class="notes">

</div>
<hr></section><section id="inputs-and-outputs" class="level2"><h2 class="anchored" data-anchor-id="inputs-and-outputs">Inputs and outputs</h2>
<ul>
<li>
<strong>Inputs</strong>
<ul>
<li>The ui defines user input options (e.g., checkboxes, menus)</li>
<li>The user’s input (e.g., their dropdown menu choice) is <strong>stored as part of an object called input</strong>
</li>
<li>The server can read and use the input object’s parts</li>
</ul>
</li>
<li>
<strong>Outputs</strong>
<ul>
<li>The server function uses the input object’s parts</li>
<li>Includes code that uses those parts to create outputs, such as a plot that updates any time the user input changes</li>
</ul>
</li>
</ul>
<hr></section><section id="building-a-shiny-app-skeleton" class="level2"><h2 class="anchored" data-anchor-id="building-a-shiny-app-skeleton">Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span> <span class="co"># Always needed!</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">useful_stuff</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/..."</span><span class="op">)</span></span>
<span></span>
<span><span class="va">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>Let’s make this all concrete.</p>
<p>Here’s the basic skeleton of the code you’d write in your shiny app.</p>
<p>We would typically start off with some set up steps, like loading in libraries and data. We will ALWAYS need at the very least to load the shiny library to make the shiny app run. And we typically have other libraries as well.</p>
<p>We would then typically read in data. As we did in our quarto projects, it’s useful to keep the data you need in a subfolder within the same folder as your shiny app. In the future, in your careers, you might want to do clever things like pull data from the internet, but we’ll keep this simple and always just use data that we actually have.</p>
</div>
<hr></section><section id="building-a-shiny-app-skeleton-1" class="level2"><h2 class="anchored" data-anchor-id="building-a-shiny-app-skeleton-1">Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span> <span class="co"># Always needed!</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">useful_stuff</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/..."</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="co"># UI elements go here</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>The next thing we do is create the ui.</p>
<p>We’ll always do this using this same basic skeleton. We create an object called ui, and we do that using a function called fluidPage.</p>
<p>Then we fill the contents of that function with everything we want in our user interface.</p>
<p>For example, in our example app, this might include the title of the app, the dropown menu and checkbox, and the plot.</p>
<p>We’ll dive into how to specify the contents of the UI in a moment.</p>
</div>
<hr></section><section id="building-a-shiny-app-skeleton-2" class="level2"><h2 class="anchored" data-anchor-id="building-a-shiny-app-skeleton-2">Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span> <span class="co"># Always needed!</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">useful_stuff</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/..."</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="co"># UI elements go here</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span> </span>
<span>  <span class="va">...</span> <span class="co"># server logic goes here </span></span>
<span>  <span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>The next big step is to define the server.</p>
<p>As I mentioned, this will be a function that uses the user’s input to dynamically generate and update the output that they see, like generating the boxplot where the user can dynamically change the outcome variable and add points.</p>
</div>
<hr></section><section id="building-a-shiny-app-skeleton-3" class="level2"><h2 class="anchored" data-anchor-id="building-a-shiny-app-skeleton-3">Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span> <span class="co"># Always needed!</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">useful_stuff</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/..."</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="co"># UI elements go here</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span> </span>
<span>  <span class="va">...</span> <span class="co"># server logic goes here </span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>And then finally, we add one simple line at the end that tells shiny to combine the ui and server into a running app</p>
</div>
<hr></section><section id="today-6" class="level2"><h2 class="anchored" data-anchor-id="today-6">Today</h2>
<ul>
<li>How to build a simple Shiny app
<ul>
<li>Overview and basic skeleton</li>
<li><strong>Populate the ui</strong></li>
</ul>
</li>
</ul>
<hr></section><section id="populate-ui" class="level2"><h2 class="anchored" data-anchor-id="populate-ui">Populate UI</h2>
<p>Start with a basic UI using <code><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage()</a></code></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="co"># UI elements go here</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr></section><section id="populate-ui-functions" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-functions">Populate UI: Functions</h2>
<p>Add elements using functions</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="co"># Each UI element is added with a function</span></span>
<span>  <span class="co"># Different functions add different kinds of UI elements, e.g.,</span></span>
<span>  <span class="co"># -- title</span></span>
<span>  <span class="co"># -- user input options</span></span>
<span>  <span class="co"># -- plot</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>We can add UI elements using functions</p>
<p>There are different functions we can use to add different kinds of elements</p>
</div>
<hr></section><section id="populate-ui-fixed-elements" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-fixed-elements">Populate UI: Fixed elements</h2>
<p>Add fixed (unchanging) elements</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Support, Therapy, and Wellbeing: Interactive"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html">p</a></span><span class="op">(</span><span class="st">"Use the controls below to explore how outcomes vary across support levels."</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>We can start by adding some simple, unchanging elements for the user to see.</p>
<p>For example, we’ll use a titlePanel function to add a title</p>
<p>And a little paragraph (p function) to add a bit of extra text to show the user.</p>
<p>For now, there are no inputs or outputs — just static text.</p>
<p>Similar to how your quarto projects had a title and some introductory text.</p>
</div>
<hr></section><section id="populate-ui-inputs" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-inputs">Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p>The option specified by the user is stored as part of an <strong>input</strong> object</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Support, Therapy, and Wellbeing: Interactive"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html">p</a></span><span class="op">(</span><span class="st">"Use the controls below to explore how outcomes vary across support levels."</span><span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="fu">someInput</span><span class="op">(</span> </span>
<span>    inputId <span class="op">=</span> <span class="st">"some_name"</span>, <span class="co"># name of the part in the input object</span></span>
<span>    label   <span class="op">=</span> <span class="st">"Some label:"</span>, <span class="co"># label shown to the user</span></span>
<span>    <span class="va">...</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>Now we’re ready to start adding user input controls</p>
<p>So these could be dropdown menus, checkboxes, buttons, and so on.</p>
<p>Remember, as I noted before, the user’s choice for these inputs will be stored as part of an object called “input”.</p>
<p>And each type of user input control has its own function.</p>
<p>Right now I’ve just put a generic placeholder in called someInput This isn’t a real function, it’s just to show you the general format</p>
<p>At minimum, every input function you use should specify at least these first two arguments.</p>
<p>First, the inputId. This argument will be the name of the part where the user’s choice is stored in the input object. This will allow us to read and use the user’s choice in our server code later.</p>
<p>Second, the label to show the user. This is the label that the user will see on the screen, like the label of the dropdown menu or checkbox.</p>
</div>
<hr></section><section id="populate-ui-inputs-1" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-inputs-1">Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p>The option specified by the user is stored as part of an <strong>input</strong> object</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Support, Therapy, and Wellbeing: Interactive"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html">p</a></span><span class="op">(</span><span class="st">"Use the controls below to explore how outcomes vary across support levels."</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span></span>
<span>    inputId <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>    label   <span class="op">=</span> <span class="st">"Outcome to plot:"</span>,</span>
<span>    <span class="va">...</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>For example, our example app has a dropdown menu. This dropdown menu is added using this selectInput function.</p>
<p>Remember, that dropdown menu allows the user to choose which outcome variable to plot. So, I’ve set the inputID as outcome, and given it this user-friendly label that tells them they can use the menu to choose an outcome to plot.</p>
</div>
<hr></section><section id="populate-ui-inputs-2" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-inputs-2">Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p>The option specified by the user is stored as part of an <strong>input</strong> object</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">titlePanel</span>(<span class="st">"Support, Therapy, and Wellbeing: Interactive"</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">p</span>(<span class="st">"Use the controls below to explore how outcomes vary across support levels."</span>),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">selectInput</span>(</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">inputId =</span> <span class="st">"outcome"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">label   =</span> <span class="st">"Outcome to plot:"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    ... WHAT ELSE???</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>But this isn’t enough to define everything about that dropdown menu.</p>
<p>What else might we need to specify here?</p>
<p>(dropdown options, default option)</p>
</div>
<hr></section><section id="populate-ui-inputs-3" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-inputs-3">Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p>This will <strong>add</strong> a part to the input object called <code>outcome</code></p>
<p>The value of <code>outcome</code> will depend on the user’s choice</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Support, Therapy, and Wellbeing: Interactive"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html">p</a></span><span class="op">(</span><span class="st">"Use the controls below to explore how outcomes vary across support levels."</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span></span>
<span>    inputId <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>    label   <span class="op">=</span> <span class="st">"Outcome to plot:"</span>,</span>
<span>    choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Wellbeing score"</span>  <span class="op">=</span> <span class="st">"wellbeing_score"</span>,</span>
<span>      <span class="st">"Loneliness score"</span> <span class="op">=</span> <span class="st">"loneliness_score"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    selected <span class="op">=</span> <span class="st">"wellbeing_score"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>So we have additional arguments for our dropdown menu input.</p>
<p>One is called choices. Here, we define a vector that includes both: the option that the user will see in the menu, and the value that we want to store when the user chooses an option.</p>
<p>And the other is called selected. Here, we specify the default value we want to use before the user has selected anything, when they first open the app.</p>
</div>
<hr></section><section id="populate-ui-inputs-4" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-inputs-4">Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/titlePanel.html">titlePanel</a></span><span class="op">(</span><span class="st">"Support, Therapy, and Wellbeing: Interactive"</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html">p</a></span><span class="op">(</span><span class="st">"Use the controls below to explore how outcomes vary across support levels."</span><span class="op">)</span>,</span>
<span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span></span>
<span>    inputId <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>    label   <span class="op">=</span> <span class="st">"Outcome to plot:"</span>,</span>
<span>    choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Wellbeing score"</span>  <span class="op">=</span> <span class="st">"wellbeing_score"</span>,</span>
<span>      <span class="st">"Loneliness score"</span> <span class="op">=</span> <span class="st">"loneliness_score"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    selected <span class="op">=</span> <span class="st">"wellbeing_score"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/checkboxInput.html">checkboxInput</a></span><span class="op">(</span></span>
<span>    inputId <span class="op">=</span> <span class="st">"show_points"</span>,</span>
<span>    label   <span class="op">=</span> <span class="st">"Show individual data points"</span>,</span>
<span>    value   <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>We can continue using the same approach to add other kinds of input optins.</p>
<p>Here I’ve added that checkbox option from the example app.</p>
<p>Note that I used a different function to create the checkbox.</p>
<p>I’ve given it its own id and label.</p>
<p>And since this is a checkbox, not a dropdwn menu, it has its own additional arguments.</p>
<p>Here, I specify the default value to store when the box is unchecked.</p>
<p>That default value is FALSE, meaning no, don’t show data points on the boxplot.</p>
<p>Again, use these values later in our server code to generate the plot based on the user’s input.</p>
</div>
<hr></section><section id="populate-ui-inputs-5" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-inputs-5">Populate UI: Inputs</h2>
<p>Different functions add different types of user input controls</p>
<p><br></p>
<p><a href="https://shiny.posit.co/r/getstarted/shiny-basics/lesson3/">More options (“widgets”)</a></p>
<hr></section><section id="populate-ui-outputs" class="level2"><h2 class="anchored" data-anchor-id="populate-ui-outputs">Populate UI: Outputs</h2>
<p>Now we tell the UI where the plot will appear</p>
<p>We refer to the name of the plot we will create using the server code</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  ...</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plotOutput</span>(<span class="st">"support_plot"</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>Explain:</p>
<ul>
<li>
<code>plotOutput("support_plot")</code> creates a space in the UI where Shiny will display the plot.</li>
<li>The string <code>"support_plot"</code> must match the name we’ll use on the server: <code>output$support_plot</code>.</li>
</ul>
<p>Reinforce the mapping: output name in UI ↔︎ output name in server.</p>
</div>
<hr></section><section id="today-7" class="level2"><h2 class="anchored" data-anchor-id="today-7">Today</h2>
<ul>
<li>How to build a simple Shiny app
<ul>
<li>Overview and basic skeleton</li>
<li>Populate the ui</li>
<li><strong>Build server code</strong></li>
</ul>
</li>
</ul>
<div class="notes">
<p>Now is when we switch over to building that server logic.</p>
<p>Here, we’ll use the inputs from the user to create that plot, So that the UI can then show the plot to the user.</p>
</div>
<hr></section><section id="build-server-code" class="level2"><h2 class="anchored" data-anchor-id="build-server-code">Build Server Code</h2>
<p>Server is a <strong>function</strong> that uses inputs to generate outputs</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="co"># Server logic will go here</span></span>
<span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>Point out:</p>
<ul>
<li>Every Shiny app server is a function with at least these arguments:
<ul>
<li>
<code>input</code> : list of all input values</li>
<li>
<code>output</code> : list where we store outputs</li>
<li>
<code>session</code>: information about the current session (not needed today)</li>
</ul>
</li>
</ul>
<p>For now, the body is empty — no outputs are defined yet.</p>
</div>
<hr></section><section id="build-server-code-1" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-1">Build Server Code</h2>
<p>We define an output called <code>support_plot</code></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">support_plot</span> <span class="op">&lt;-</span> <span class="va">...</span></span>
<span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>So the main output we want is that plot. And remember, in our UI, we called the plot support_plot. So we want to use that same name here.</p>
</div>
<hr></section><section id="build-server-code-2" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-2">Build Server Code</h2>
<p>We define an output called <code>support_plot</code> using <code><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot()</a></code></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">support_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span></span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>We can create this output plot using a function called renderPlot.</p>
<p>As you might expect, this function renders a plot.</p>
<p>So inside the function, we can define the plot we want to render using ggplot, just as we’ve been using ggplot to create plots this whole time.</p>
</div>
<hr></section><section id="build-server-code-3" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-3">Build Server Code</h2>
<p>We define an output called <code>support_plot</code> using <code><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot()</a></code></p>
<p>Currently <strong>static</strong> (not responsive to user input)</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">support_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="op">{</span></span>
<span></span>
<span>    <span class="fu">ggplot</span><span class="op">(</span><span class="va">therapy_df</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">support_level</span>,</span>
<span>                           y <span class="op">=</span> <span class="va">wellbeing_score</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co"># STATIC!</span></span>
<span>      <span class="fu">geom_boxplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">support_level</span><span class="op">)</span>,</span>
<span>                   alpha       <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>                   width       <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>                   show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">scale_fill_viridis_d</span><span class="op">(</span>option <span class="op">=</span> <span class="st">"plasma"</span><span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">labs</span><span class="op">(</span></span>
<span>        x <span class="op">=</span> <span class="st">"Support level"</span>,</span>
<span>        y <span class="op">=</span> <span class="st">"Wellbeing score"</span> <span class="co"># STATIC!</span></span>
<span>      <span class="op">)</span> <span class="op">+</span></span>
<span>      <span class="fu">coord_cartesian</span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>To start off with, let’s try just putting some familiar ggplot code here.</p>
<p>This is the same kind of ggplot code you’ve been learning how to write throughout the module, just wrapped inside <code>renderPlot({ ... })</code>.</p>
<p>At this stage, the app will show a wellbeing boxplot that does <strong>not</strong> yet respond to inputs.</p>
</div>
<hr></section><section id="build-server-code-incorporate-inputs" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs">Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>Remember:</p>
<ul>
<li>
<code>ui</code> stored user options as parts of an object called <code>input</code>
</li>
<li>we gave those parts names using inputId</li>
</ul>
<hr></section><section id="build-server-code-incorporate-inputs-1" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-1">Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>We can now reference these <code>input</code> parts in our server code:</p>
<ul>
<li>use dollar sign notation</li>
<li>e.g., to reference the <code>outcome</code> part: <code>input$outcome</code>
</li>
</ul>
<p>The <strong>value</strong> of that part will be based on the user’s input</p>
<ul>
<li>e.g., if the user selected wellbeing as the outcome, then</li>
<li>
<code>input$outcome</code> will be <code>wellbeing_score</code>
</li>
</ul>
<hr></section><section id="build-server-code-incorporate-inputs-2" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-2">Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>Our approach:</p>
<ul>
<li>Check <code>input</code> part values</li>
<li>Use them in our server code to control our outputs</li>
</ul>
<hr></section><section id="build-server-code-incorporate-inputs-3" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-3">Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>Some basic programming with if-statements:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(input<span class="sc">$</span>part <span class="sc">==</span> <span class="st">"some_value"</span>) {</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  ...if <span class="cn">TRUE</span>, do this...</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>Today, I’ll show you a very basic way to do this using some basic programing called an if-statement.</p>
<p>If-statements are common throughout programming languages - this is a very basic thing you often want to tell a computer to do.</p>
<p>Instead of having a computer always do a PARTICULAR THING, you often want it to check some condition, and then say IF that condition met, THEN do something.</p>
</div>
<hr></section><section id="build-server-code-incorporate-inputs-4" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-4">Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>Some basic programming with if-statements:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(input<span class="sc">$</span>part <span class="sc">==</span> <span class="st">"some_value"</span>) {</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  ...if <span class="cn">TRUE</span>, do this...</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  ...if <span class="cn">FALSE</span>, do something else...</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>We can make this a bit more sophisticated by saying</p>
<p>IF the condition is met, then do one thing,</p>
<p>but OTHERWISE, do a DIFFERENT thing.</p>
</div>
<hr></section><section id="build-server-code-incorporate-inputs-5" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-5">Build Server Code: Incorporate Inputs</h2>
<p><br></p>
<p>This is just one way to use inputs!</p>
<p>Showing for simplicity: avoid overburdening with new concepts</p>
<p>More approaches can be found in your <strong>reading</strong> (especially chapter 4)</p>
<hr></section><section id="build-server-code-incorporate-inputs-6" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-6">Build Server Code: Incorporate Inputs</h2>
<p>Make the plot respond to <code>input$outcome</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If the user chose wellbeing_score...</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score"</span>) {</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Then create output_plot as a boxplot with wellbeing_score on the y-axis</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>      output_plot <span class="ot">&lt;-</span> therapy_df <span class="sc">%&gt;%</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> support_level, <span class="at">y =</span> wellbeing_score)) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_boxplot</span>(</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="st">"Wellbeing score"</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Otherwise (i.e., if the user did NOT choose wellbeing_score), </span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>      <span class="co"># create the plot using loneliness_score as the y-axis variable</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>      output_plot <span class="ot">&lt;-</span> therapy_df <span class="sc">%&gt;%</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> support_level, <span class="at">y =</span> loneliness_score)) <span class="sc">+</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_boxplot</span>(</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>          <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>          <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="st">"Loneliness score"</span></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>This looks like a lot of code, but really it’s just two chunks of ggplot code -</p>
<p>One to run and store as the output if the user selected wellbeing, and another one to run if the user selected something else.</p>
</div>
</section><section id="build-server-code-incorporate-inputs-7" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-7">Build Server Code: Incorporate Inputs</h2>
<p>Can chain if… else… endlessly</p>
<p>But might want a more efficient approach with &gt; 2 options!</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output, session) {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># If the user chose wellbeing_score...</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score"</span>) {</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Then create output_plot as a boxplot with wellbeing_score on the y-axis</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>      output_plot <span class="ot">&lt;-</span> therapy_df <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> support_level, <span class="at">y =</span> wellbeing_score)) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_boxplot</span>(</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="st">"Wellbeing score"</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Otherwise (i.e., if the user did NOT choose wellbeing_score), </span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>      <span class="co"># create the plot using loneliness_score as the y-axis variable</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>      output_plot <span class="ot">&lt;-</span> therapy_df <span class="sc">%&gt;%</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> support_level, <span class="at">y =</span> loneliness_score)) <span class="sc">+</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_boxplot</span>(</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">fill =</span> support_level),</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>          <span class="at">alpha       =</span> <span class="fl">0.8</span>,</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>          <span class="at">width       =</span> <span class="fl">0.6</span>,</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>          <span class="at">show.legend =</span> <span class="cn">FALSE</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>        <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"plasma"</span>) <span class="sc">+</span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> <span class="st">"Support level"</span>,</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="st">"Loneliness score"</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>Suppose your dropdown menu had more than just 2 options. For example, suppose we had 3 or more outcome variables that users could choose between.</p>
<p>We could keep extending this approach and chain if else statements however much we want. But this would make our code long and tedious.</p>
<p>So this is a simple but potentially tedious approach. There are other more efficient approaches.</p>
</div>
<hr></section><section id="build-server-code-incorporate-inputs-8" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-8">Build Server Code: Incorporate Inputs</h2>
<p>Optionally adding points based on checkbox?</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score) {</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="st">} else {</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>So now we’ve built our two versions of our boxplot that the server can choose between based on the user input to the dropdown menu for outcome.</p>
<p>But what about that checkbox for adding points?</p>
<p>We need to make our server code respond to that checkbox as well.</p>
</div>
<hr></section><section id="build-server-code-incorporate-inputs-9" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-9">Build Server Code: Incorporate Inputs</h2>
<p>Optionally adding points based on checkbox</p>
<p>Remember:</p>
<ul>
<li>our ui code stored the user’s choice in the checkbox as <code>input$show_points</code>
</li>
<li>by default, the value of <code>input$show_points</code> was <code>FALSE</code>
</li>
<li>if the user checks the box, it switches to <code>TRUE</code>
</li>
</ul>
<hr></section><section id="build-server-code-incorporate-inputs-10" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-10">Build Server Code: Incorporate Inputs</h2>
<p>Optionally adding points based on checkbox</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score) {</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="st">} else {</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="st">  if (input$show_points) {</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="st">    output_plot &lt;- output_plot + # ADD the geom_point layer</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="st">      geom_point(position = position_jitter(width = 0.1), alpha = 0.4)</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="st">  }</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="st">})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>So we just need to have our server code check whether show_points is TRUE.</p>
<p>If it is true, then we just add a geom_point layer to our plot.</p>
<p>If show_points is FALSE, if the box isn’t checked, this won’t be added.</p>
<p>So this shows you how you can use a checkbox to toggle a feature on or off.</p>
</div>
</section><section id="build-server-code-incorporate-inputs-11" class="level2"><h2 class="anchored" data-anchor-id="build-server-code-incorporate-inputs-11">Build Server Code: Incorporate Inputs</h2>
<p>Show the plot at the end!</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>output<span class="sc">$</span>support_plot <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(input<span class="sc">$</span>outcome <span class="sc">==</span> <span class="st">"wellbeing_score) {</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="st">} else {</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="st">  output_plot &lt;- ggplot(...)</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="st">  if (input$show_points) {</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="st">   ...</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="st">  }</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="st">  output_plot</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="st">})</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr></section><section id="today-8" class="level2"><h2 class="anchored" data-anchor-id="today-8">Today</h2>
<ul>
<li><strong>How to build a simple Shiny app</strong></li>
</ul>
<div class="notes">
<p>Now we have all the parts of our app. Let’s just review what we’ve built.</p>
</div>
<hr></section><section id="building-a-shiny-app-skeleton-4" class="level2"><h2 class="anchored" data-anchor-id="building-a-shiny-app-skeleton-4">Building a Shiny app: Skeleton</h2>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/">shiny</a></span><span class="op">)</span> <span class="co"># Always needed!</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">useful_stuff</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"data/..."</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="co"># UI elements: fixed content, UI input options, dynamic output</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span> </span>
<span>  <span class="va">...</span> <span class="co"># server function used inputs to generate dynamic output</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span> <span class="co"># connect the ui and server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>To go back to ur basic skeleton…</p>
<p>We have some setup steps at the beginning to load packages and read in data.</p>
<p>We specified the parts of our UI – Some fixed content like a title – Interactive user input options - dropdown menu and checkbox – A dynamic output</p>
<p>We built our server code – Used user inputs to dynamically generate an output plot</p>
<p>And then lastly, we just have this final line that’s needed to connect the ui and server.</p>
</div>
<hr></section><section id="today-9" class="level2"><h2 class="anchored" data-anchor-id="today-9">Today</h2>
<ul>
<li>Why build a Shiny app?</li>
<li>Inspect a finished Shiny app</li>
<li>Basic anatomy of a Shiny app</li>
<li>How to build a simple Shiny app</li>
<li><strong>Project structure and workflow</strong></li>
</ul>
<hr></section><section id="project-structure-for-shiny-apps" class="level2"><h2 class="anchored" data-anchor-id="project-structure-for-shiny-apps">Project structure for Shiny apps</h2>
<p>A simple recommended structure:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">data</span><span class="op">-</span><span class="va">vis</span><span class="op">/</span></span>
<span>  <span class="va">data</span><span class="op">-</span><span class="va">vis.Rproj</span></span>
<span>  <span class="va">data</span><span class="op">/</span></span>
<span>    <span class="va">therapy_dataset.csv</span></span>
<span>  <span class="va">app.R</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="notes">
<p>Explain:</p>
<ul>
<li>Keep <code>app.R</code> in the <strong>project root</strong> alongside their Quarto files.</li>
<li>Keep data in a <code>data/</code> folder, using relative paths.</li>
<li>This mirrors the structure used for their reports.</li>
</ul>
<p>Highlight that this structure will make it easier to zip the whole project for submission.</p>
</div>
<hr></section><section id="how-to-create-app.r-in-rstudio" class="level2"><h2 class="anchored" data-anchor-id="how-to-create-app.r-in-rstudio">How to create <code>app.R</code> in RStudio</h2>
<ol type="1">
<li>Have your folder and RStudio project setup</li>
<li>Go to <strong>File → New File → R Script</strong>
</li>
<li>Save the file as <strong><code>app.R</code></strong> in the project root</li>
<li>Edit:
<ul>
<li>Setup</li>
<li>UI (text, inputs, plotOutput)</li>
<li>Server (renderPlot code)</li>
</ul>
</li>
<li>Try running by clicking <strong>Run App</strong> in the top-right of the script pane</li>
</ol>
<div class="notes">
<p>Stress that they <em>do not</em> need to use “New Shiny Web App”:</p>
<ul>
<li>Creating a plain R script and saving it as <code>app.R</code> is simpler and keeps everything in one project.</li>
<li>This is also what you will expect in the final assessment.</li>
</ul>
</div>
<hr></section><section id="troubleshooting-common-issues" class="level2"><h2 class="anchored" data-anchor-id="troubleshooting-common-issues">Troubleshooting: common issues</h2>
<ul>
<li>
<strong>Package not found</strong>
<ul>
<li>Add <code><a href="https://shiny.posit.co/">library(shiny)</a></code> and other libraries at the top of <code>app.R</code>
</li>
</ul>
</li>
<li>
<strong>File not found</strong>
<ul>
<li>Check the path to your data and that it’s inside the project (e.g., <code>data/therapy_dataset.csv</code>)</li>
</ul>
</li>
<li>
<strong>Input or output not found</strong>
<ul>
<li>Do <code>inputId</code> and <code>output$...</code> names match between UI and server?</li>
</ul>
</li>
</ul>
<div class="notes">
<p>Encourage students to read error messages:</p>
<ul>
<li>Errors often tell them whether the problem is in the UI or server, and which name is missing.</li>
</ul>
<p>Reassure them that this is normal; debugging is part of the process.</p>
</div>
<hr></section><section id="summary" class="level2"><h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p><br></p>
<ul>
<li>What a Shiny app is and why we might use one</li>
<li>The <strong>anatomy</strong> of a Shiny app (user interface and server)</li>
<li>Built a simple interactive app with <code>ui</code> and <code>server</code> that dynamically generates a plot</li>
<li>Organise <code>app.R</code> and data files in a project structure</li>
</ul>
<div class="notes">
<p>Close the loop:</p>
<ul>
<li>Connect back to the final assessment: this is roughly the level and structure you expect, with Week 10 adding more advanced layout and features.</li>
<li>Invite questions, especially around the UI/server mapping and how to think about inputs and outputs.</li>
</ul>
</div>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("^(?:http:|https:)\/\/laylaunger\.github\.io\/data-vis");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Data Visualisation</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="https://github.com/laylaunger">
<p>Layla on GitHub</p>
</a>
  </li>  
</ul>
</div>
  </div>
</footer>


</body></html>