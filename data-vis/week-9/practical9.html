<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Layla Unger">
<title>Practical ‚Äì Data Visualisation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-3084c59541715b928ed342732e9d4313.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Data Visualisation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Welcome!</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../data-vis/data-vis.html" aria-current="page"> 
<span class="menu-text">PSY00122M-A</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/laylaunger" title="Layla on GitHub" class="quarto-navigation-tool px-1" aria-label="Layla on GitHub"><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../data-vis/week-9/overview9.html">Week 9: Shiny Apps 1</a></li><li class="breadcrumb-item"><a href="../../data-vis/week-9/practical9.html">Practical</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/data-vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualisation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 1: Principles of Data Visualisation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/overview1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/study_before1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/seminar1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/practical1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/study_after1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 2: Grammar of Graphics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/overview2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/study_before2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/seminar2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/practical2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/study_after2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 3: Distributions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/overview3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/study_before3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/seminar3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/practical3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/study_after3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 4: Barplots for Categorical Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/overview4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/study_before4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/seminar4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/practical4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/study_after4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 5: Relationships between Variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/overview5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/study_before5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/seminar5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/practical5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/study_after5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 6: Time Series and Line Plots</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/overview6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/study_before6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/seminar6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/practical6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/study_after6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 7: Advanced Customizations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/overview7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/study_before7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/seminar7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/practical7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/study_after7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 8: Quarto Reports</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/overview8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/study_before8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/seminar8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/practical8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/study_after8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 9: Shiny Apps 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/overview9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/study_before9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/seminar9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/practical9.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/study_after9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 10: Shiny Apps 2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/overview10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/study_before10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/seminar10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/practical10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/study_after10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
<li><a href="#session-overview" id="toc-session-overview" class="nav-link" data-scroll-target="#session-overview">Session overview</a></li>
  <li><a href="#example-app" id="toc-example-app" class="nav-link" data-scroll-target="#example-app">Example App</a></li>
  <li><a href="#philosophy" id="toc-philosophy" class="nav-link" data-scroll-target="#philosophy">Philosophy</a></li>
  </ul>
</li>
  <li>
<a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a>
  <ul class="collapse">
<li><a href="#exercise-1-create-a-shiny-project-folder" id="toc-exercise-1-create-a-shiny-project-folder" class="nav-link" data-scroll-target="#exercise-1-create-a-shiny-project-folder">Exercise 1: Create a Shiny project folder</a></li>
  <li><a href="#exercise-2-create-an-app.r-file-and-load-the-data" id="toc-exercise-2-create-an-app.r-file-and-load-the-data" class="nav-link" data-scroll-target="#exercise-2-create-an-app.r-file-and-load-the-data">Exercise 2: Create an <code>app.R</code> file and load the data</a></li>
  <li><a href="#exercise-3-add-a-minimal-shiny-app-skeleton" id="toc-exercise-3-add-a-minimal-shiny-app-skeleton" class="nav-link" data-scroll-target="#exercise-3-add-a-minimal-shiny-app-skeleton">Exercise 3: Add a minimal Shiny app skeleton</a></li>
  <li><a href="#exercise-4-build-the-ui-layout-and-inputs" id="toc-exercise-4-build-the-ui-layout-and-inputs" class="nav-link" data-scroll-target="#exercise-4-build-the-ui-layout-and-inputs">Exercise 4: Build the UI layout and inputs</a></li>
  <li><a href="#exercise-5-draw-a-basic-plot-in-the-server" id="toc-exercise-5-draw-a-basic-plot-in-the-server" class="nav-link" data-scroll-target="#exercise-5-draw-a-basic-plot-in-the-server">Exercise 5: Draw a basic plot in the server</a></li>
  <li><a href="#exercise-6-use-inputoutcome-with-an-ifelse-pattern" id="toc-exercise-6-use-inputoutcome-with-an-ifelse-pattern" class="nav-link" data-scroll-target="#exercise-6-use-inputoutcome-with-an-ifelse-pattern">Exercise 6: Use <code>input$outcome</code> with an <code>if</code>/<code>else</code> pattern</a></li>
  <li><a href="#exercise-7-use-inputshow_points-to-toggle-raw-data-points" id="toc-exercise-7-use-inputshow_points-to-toggle-raw-data-points" class="nav-link" data-scroll-target="#exercise-7-use-inputshow_points-to-toggle-raw-data-points">Exercise 7: Use <code>input$show_points</code> to toggle raw data points</a></li>
  <li><a href="#exercise-8-review-and-tidy-your-app" id="toc-exercise-8-review-and-tidy-your-app" class="nav-link" data-scroll-target="#exercise-8-review-and-tidy-your-app">Exercise 8: Review and tidy your app</a></li>
  </ul>
</li>
  <li><a href="#youre-finished" id="toc-youre-finished" class="nav-link" data-scroll-target="#youre-finished">You‚Äôre finished! üéâ</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../data-vis/week-9/overview9.html">Week 9: Shiny Apps 1</a></li><li class="breadcrumb-item"><a href="../../data-vis/week-9/practical9.html">Practical</a></li></ol></nav><div class="quarto-title">
<h1 class="title">Practical</h1>
<p class="subtitle lead">Week 9 Practical: Shiny Apps 1</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="introduction" class="level1"><h1>Introduction</h1>
<section id="session-overview" class="level2"><h2 class="anchored" data-anchor-id="session-overview">Session overview</h2>
<p>In this practical you‚Äôll build a small Shiny app project from scratch using the wellbeing dataset, applying the ideas from Seminar 9:</p>
<ul>
<li>Setting up a <strong>project folder</strong> with a subfolder for data<br>
</li>
<li>Creating an <strong><code>app.R</code> file</strong> inside an RStudio project<br>
</li>
<li>Loading data and packages at the top of your app<br>
</li>
<li>Building a <strong>UI</strong> with a title, description, dropdown menu, checkbox, and plot output<br>
</li>
<li>Writing a <strong>server function</strong> that draws a plot from the data<br>
</li>
<li>Using <code>input$...</code> values and an <code>if (...) { ... } else { ... }</code> pattern to switch between outcomes<br>
</li>
<li>Using another <code>if</code> statement to control whether <strong>individual data points</strong> are shown<br>
</li>
<li>Running the app and dealing with common errors</li>
</ul>
<p>By the end, you should have your <strong>first complete Shiny app</strong> for this module, using a dataset on sleep and wellbeing across groups.</p>
</section><section id="example-app" class="level2"><h2 class="anchored" data-anchor-id="example-app">Example App</h2>
<p>These exercises will walk you through building an app similar to the one you saw in the seminar. You can download the finished example from the seminar (which contains extensive comments / explanations) here:</p>
<ul>
<li><a href="app.R" download="">app.R</a></li>
</ul></section><section id="philosophy" class="level2"><h2 class="anchored" data-anchor-id="philosophy">Philosophy</h2>
<p>Practicals are not a test. It is expected that you‚Äôll often be unsure what to do at first ‚Äì that‚Äôs normal. The goal is that each workshop helps you build confidence step-by-step.</p>
<p>Some tips:</p>
<ul>
<li>don‚Äôt worry about making mistakes<br>
</li>
<li>don‚Äôt let what you can‚Äôt do interfere with what you <em>can</em> do<br>
</li>
<li>discussing code with your neighbours will help<br>
</li>
<li>look things up in the independent study material<br>
</li>
<li>look things up in your own code from earlier weeks<br>
</li>
<li>there are no stupid questions</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key
</div>
</div>
<div class="callout-body-container callout-body">
<p>These four symbols are used at the beginning of each instruction so you know where to carry out the instruction.</p>
<p><img src="images/do_on_your_computer.png" class="img-fluid"> Something you need to do on your computer. It may be opening programs or documents or locating a file.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Something you should do in RStudio. It will usually involve running R code, but might also be creating folders, locating or moving files.</p>
<p><img src="images/do_on_internet.png" class="img-fluid"> Something you should do in your browser. It will usually be searching for information, going to the VLE or downloading a file.</p>
<p><img src="images/answer.png" class="img-fluid"> A question for you to think about and answer. You can record your answers in your report, app file, or notes for future reference.</p>
</div>
</div>
</section></section><section id="exercises" class="level1"><h1>Exercises</h1>
<p><strong>Important:</strong> For Week 9, the <strong>project setup is part of the exercises</strong>.<br>
Follow the steps carefully so that your project structure matches the simple pattern we used in <strong>Seminar 9</strong> and that you will also use for the assessment.</p>
<hr>
<section id="exercise-1-create-a-shiny-project-folder" class="level2"><h2 class="anchored" data-anchor-id="exercise-1-create-a-shiny-project-folder">Exercise 1: Create a Shiny project folder</h2>
<p>In this exercise you will create a <strong>new folder</strong> for a mini Shiny project, add a <code>data</code> subfolder for the CSV, and turn it into an <strong>RStudio project</strong>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In the <strong>Files</strong> tab in the lower right pane, click on the <code>...</code> on the right (this should say ‚ÄúGo to directory‚Äù when you hover over it). Clicking the ‚Äò‚Ä¶‚Äô will open the <em>Go to folder</em> window. Navigate to a place on your computer where you keep your work for this module (for example your <code>data-visualisation-in-r</code> folder). Click <strong>Open</strong>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In the Files tab, click on <strong>New Folder</strong>. Give your new folder a short, sensible name for this project, such as <code>week-9-shiny-app</code>.</p>
<p>We‚Äôll refer to this folder as <strong><code>project_name/</code></strong> in the instructions below.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Still in the Files tab, click into your new <code>project_name/</code> folder. Then use <strong>File ‚Üí New Project‚Ä¶ ‚Üí Existing Directory</strong>, choose your <code>project_name/</code> folder, and create an <strong>R Project</strong> there.</p>
<p>You should now have:</p>
<pre><code>project_name/
  project_name.Rproj</code></pre>
<p><img src="images/do_in_R.png" class="img-fluid"> Inside <code>project_name/</code>, create a new subfolder called <code>data</code>.</p>
<pre><code>project_name/
  project_name.Rproj
  data/</code></pre>
<p>Now you‚Äôll add the data file.</p>
<p><img src="images/do_on_internet.png" class="img-fluid"> Download the wellbeing CSV file for this practical:</p>
<ul>
<li><a href="../data/wellbeing_dataset.csv">wellbeing_dataset.csv</a></li>
</ul>
<p><img src="images/do_on_your_computer.png" class="img-fluid"> Save <code>wellbeing_dataset.csv</code> <strong>inside the <code>data</code> subfolder</strong> of your new project:</p>
<pre><code>project_name/
  project_name.Rproj
  data/
    wellbeing_dataset.csv</code></pre>
<p><img src="images/answer.png" class="img-fluid"> Why is it helpful to keep the data file <em>inside</em> the project folder, rather than somewhere else on your computer?</p>
</section><section id="exercise-2-create-an-app.r-file-and-load-the-data" class="level2"><h2 class="anchored" data-anchor-id="exercise-2-create-an-app.r-file-and-load-the-data">Exercise 2: Create an <code>app.R</code> file and load the data</h2>
<p>Next, you‚Äôll create your main <strong>Shiny app script</strong> (<code>app.R</code>) and load the data.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In RStudio, go to <strong>File ‚Üí New File ‚Üí R Script</strong>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Save this file in your <code>project_name/</code> folder with the name <strong><code>app.R</code></strong>.</p>
<p>You should now have:</p>
<pre><code>project_name/
  project_name.Rproj
  app.R
  data/
    wellbeing_dataset.csv</code></pre>
<p>Now add the code that loads your packages and data at the top of <code>app.R</code>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, add code that:</p>
<ul>
<li>Loads the <code>shiny</code> and <code>tidyverse</code> packages, and any others you might want (e.g., <code>viridis</code> for colors)</li>
<li>Reads in the wellbeing_dataset.csv from the data folder and assigns it to an object called <code>wellbeing_df</code>
</li>
<li>Preproceses <code>wellbeing_df</code> using <code>mutate</code> and <code>factor</code> to order <code>participant_group</code> as a factor with levels ‚Äústudent‚Äù, ‚Äúemployed‚Äù and ‚Äúretired‚Äù</li>
</ul>
<p><img src="images/answer.png" class="img-fluid"> Why is it a good idea to load your packages and data <strong>near the top</strong> of <code>app.R</code>?</p>
</section><section id="exercise-3-add-a-minimal-shiny-app-skeleton" class="level2"><h2 class="anchored" data-anchor-id="exercise-3-add-a-minimal-shiny-app-skeleton">Exercise 3: Add a minimal Shiny app skeleton</h2>
<p>A Shiny app needs three main parts:</p>
<ul>
<li>a <strong>UI</strong> that defines what the app looks like<br>
</li>
<li>a <strong>server</strong> function that defines how the app behaves<br>
</li>
<li>a final line that calls <code>shinyApp(ui = ..., server = ...)</code>
</li>
</ul>
<p>In this exercise you‚Äôll set up a minimal skeleton app that does nothing yet, but runs without errors.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, <strong>underneath</strong> the library and data-loading code, add the following skeleton:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/do_in_R.png" class="img-fluid"> Click <strong>Run App</strong> in RStudio. You should see a blank Shiny window.</p>
</section><section id="exercise-4-build-the-ui-layout-and-inputs" class="level2"><h2 class="anchored" data-anchor-id="exercise-4-build-the-ui-layout-and-inputs">Exercise 4: Build the UI layout and inputs</h2>
<p>Now you‚Äôll build a simple UI that looks similar in structure to the one from <strong>Seminar 9</strong>, but adapted to the <strong>wellbeing</strong> data.</p>
<p>Your UI will include:</p>
<ul>
<li>a title<br>
</li>
<li>a short instructional paragraph<br>
</li>
<li>a <strong>dropdown (selectInput)</strong> to choose the outcome<br>
</li>
<li>a <strong>checkbox</strong> to turn points on/off<br>
</li>
<li>a <strong>plotOutput</strong> that will show the main plot</li>
</ul>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, edit the contents of <code>ui &lt;- fluidPage(...)</code> so that it contains all of the elements above. Use what you saw in <strong>Seminar 9</strong> and the slides as a guide:</p>
<ul>
<li>Add a <code>titlePanel()</code> with a clear title, e.g.&nbsp;<code>"Sleep and Wellbeing Across Groups: Interactive"</code>.<br>
</li>
<li>Add a short instruction paragraph with <code>p()</code>.<br>
</li>
<li>Add a <code>selectInput()</code> using the <code>inputId</code> as <code>"outcome"</code> that lets the user choose between <strong>Wellbeing index</strong> and <strong>Sleep hours</strong>. Use the <code>choices</code> and <code>selected</code> arguments to control what appears in the dropdown and which option is selected by default. For example:</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">selectInput</span><span class="op">(</span></span>
<span>  inputId <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>  label   <span class="op">=</span> <span class="st">"Outcome to plot:"</span>,</span>
<span>  choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"Wellbeing index"</span> <span class="op">=</span> <span class="st">"wellbeing_index"</span>,</span>
<span>    <span class="st">"Sleep hours"</span>     <span class="op">=</span> <span class="st">"sleep_hours"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  selected <span class="op">=</span> <span class="st">"wellbeing_index"</span></span>
<span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Add a <code>checkboxInput()</code> called <code>"show_points"</code> with default value <code>FALSE</code>.<br>
</li>
<li>At the end of <code>fluidPage(...)</code>, add <code>plotOutput("group_plot")</code> where the plot will appear.</li>
</ul>
<p>Make sure that all of these lines live <strong>inside</strong> the parentheses of <code>fluidPage(...)</code>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code>, then click <strong>Run App</strong> again. You should now see your <strong>title</strong>, <strong>instruction text</strong>, a <strong>dropdown menu</strong>, a <strong>checkbox</strong>, and an empty plot area.</p>
<p><img src="images/answer.png" class="img-fluid"> Which argument in <code>selectInput()</code> controls the <strong>labels the user sees</strong>, and which argument controls the <strong>values Shiny stores</strong> in <code>input$outcome</code>?</p>
</section><section id="exercise-5-draw-a-basic-plot-in-the-server" class="level2"><h2 class="anchored" data-anchor-id="exercise-5-draw-a-basic-plot-in-the-server">Exercise 5: Draw a basic plot in the server</h2>
<p>Next, you‚Äôll connect the UI to a <strong>static plot</strong> in the server. For now, we‚Äôll ignore the user inputs and just draw a boxplot of <strong>wellbeing index by participant group</strong>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Go to the <code>server</code> function part of your skeleton and flesh out the server logic:</p>
<ol type="1">
<li>Inside the curly braces <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>, create an output called <code>group_plot</code> using <code>renderPlot()</code>:</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">group_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span></span>
<span>  <span class="co"># your ggplot code will go here</span></span>
<span></span>
<span><span class="op">}</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>Inside <code>renderPlot({ ... })</code>, write ggplot code that:</li>
</ol>
<ul>
<li>uses <code>wellbeing_df</code> as the data<br>
</li>
<li>puts <code>participant_group</code> on the x-axis<br>
</li>
<li>puts <code>wellbeing_index</code> on the y-axis<br>
</li>
<li>draws boxplots coloured by <code>participant_group</code><br>
</li>
<li>customises the fill colors</li>
<li>labels the axes clearly</li>
</ul>
<p>You can start from code like:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">wellbeing_df</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">participant_group</span>, y <span class="op">=</span> <span class="va">wellbeing_index</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">participant_group</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>and then add extra layers (fill scale, labels, theme tweaks) to make the plot look polished, drawing on what you‚Äôve done in previous weeks.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code> and click <strong>Run App</strong>. You should now see a boxplot of wellbeing index by participant group. The dropdown and checkbox don‚Äôt do anything yet, but your plot should appear.</p>
</section><section id="exercise-6-use-inputoutcome-with-an-ifelse-pattern" class="level2"><h2 class="anchored" data-anchor-id="exercise-6-use-inputoutcome-with-an-ifelse-pattern">Exercise 6: Use <code>input$outcome</code> with an <code>if</code>/<code>else</code> pattern</h2>
<p>Now you‚Äôll make the app <strong>reactive</strong> to the dropdown menu by using <code>input$outcome</code> inside the <code>renderPlot()</code> code.</p>
<p>We‚Äôll use the same <strong><code>if (...) { ... } else { ... }</code> pattern</strong> as in <strong>Seminar 9</strong>:</p>
<ul>
<li>If the user selects <code>"wellbeing_index"</code>, plot wellbeing on the y-axis<br>
</li>
<li>Otherwise (i.e., if they select <code>"sleep_hours"</code>), plot sleep hours on the y-axis instead</li>
</ul>
<p><img src="images/do_in_R.png" class="img-fluid"> Modify the code <strong>inside</strong> your <code>renderPlot({ ... })</code> so that it follows this pattern:</p>
<ol type="1">
<li>At the top of <code>renderPlot({ ... })</code>, create an <code>if</code>/<code>else</code> block that checks <code>input$outcome</code>:</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">outcome</span> <span class="op">==</span> <span class="st">"wellbeing_index"</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># build a plot with wellbeing_index on the y-axis</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="co"># build a plot with sleep_hours on the y-axis</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>In the first branch (<code>if</code>):</li>
</ol>
<ul>
<li>Create an object called <code>output_plot</code>, and assign your Exercise 5 code (which creates your boxplot with <code>wellbeing_index</code> on the y-axis) to it.</li>
<li>Note that this will set output_plot as a boxplot for <code>wellbeing_index</code> when the user selects <code>wellbeing_index</code>, just as intended.</li>
</ul>
<ol start="3" type="1">
<li>In the <code>else</code> branch:</li>
</ol>
<ul>
<li>Create a similar <code>output_plot</code>, but now with <code>sleep_hours</code> on the y-axis and an updated y-axis label (e.g.&nbsp;‚ÄúSleep hours‚Äù).</li>
<li>Note that this will set output_plot as a boxplot for <code>sleep_hours</code> when the user selects <code>sleep_hours</code>, just as intended.</li>
</ul>
<ol start="4" type="1">
<li>After the <code>if</code>/<code>else</code> block, make sure the <strong>last line</strong> inside <code>renderPlot({ ... })</code> is:</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">output_plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This tells Shiny to actually draw the plot.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code> and click <strong>Run App</strong>. Change the dropdown between <strong>Wellbeing index</strong> and <strong>Sleep hours</strong>. The plot should update to show the selected outcome.</p>
<p><img src="images/answer.png" class="img-fluid"> In your own words, describe what <code>if (input$outcome == "wellbeing_index") { ... } else { ... }</code> is doing in this app.</p>
</section><section id="exercise-7-use-inputshow_points-to-toggle-raw-data-points" class="level2"><h2 class="anchored" data-anchor-id="exercise-7-use-inputshow_points-to-toggle-raw-data-points">Exercise 7: Use <code>input$show_points</code> to toggle raw data points</h2>
<p>Finally, you‚Äôll use the <strong>checkbox</strong> to control whether individual data points are shown on top of the boxplots.</p>
<p>We‚Äôll use a second <code>if</code> statement:</p>
<ul>
<li>If <code>input$show_points</code> is <code>TRUE</code> (box checked), add jittered points<br>
</li>
<li>If <code>input$show_points</code> is <code>FALSE</code> (box not checked), keep just the boxplots</li>
</ul>
<p><img src="images/do_in_R.png" class="img-fluid"> In the same <code>renderPlot({ ... })</code> code, <strong>just before</strong> the final line <code>output_plot</code>, add an <code>if</code> block that:</p>
<ul>
<li>Checks the value of <code>input$show_points</code>
</li>
<li>If the value is TRUE (i.e., if the box is checked), adds a layer to <code>output_plot</code> with jittered points</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (input<span class="sc">$</span>show_points) {</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  output_plot <span class="ot">&lt;-</span> output_plot <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    [insert a line here that adds jittered points]</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The full structure <strong>inside</strong> <code>renderPlot()</code> should now be:</p>
<ul>
<li>
<code>if/else</code> block choosing the <strong>outcome variable</strong><br>
</li>
<li>
<code>if</code> block adding <strong>points</strong> if <code>input$show_points</code> is <code>TRUE</code><br>
</li>
<li>final line that calls <code>output_plot</code>
</li>
</ul>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code> and click <strong>Run App</strong>. Try:</p>
<ul>
<li>Switching between <strong>Wellbeing index</strong> and <strong>Sleep hours</strong><br>
</li>
<li>Ticking and unticking <strong>Show individual data points</strong>
</li>
</ul>
<p>Make sure the plot behaves as you expect.</p>
</section><section id="exercise-8-review-and-tidy-your-app" class="level2"><h2 class="anchored" data-anchor-id="exercise-8-review-and-tidy-your-app">Exercise 8: Review and tidy your app</h2>
<p>In this final exercise, you‚Äôll tidy your app and make sure you understand how each part works.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, add a few short comments (lines starting with <code>#</code>) to remind your future self what each section does:</p>
<ul>
<li>data-loading block<br>
</li>
<li>
<code>ui &lt;- fluidPage(...)</code> section<br>
</li>
<li>
<code>server &lt;- function(...)</code> section</li>
</ul></section></section><section id="youre-finished" class="level1"><h1>You‚Äôre finished! üéâ</h1>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("^(?:http:|https:)\/\/laylaunger\.github\.io\/data-vis");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Data Visualisation</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="https://github.com/laylaunger">
<p>Layla on GitHub</p>
</a>
  </li>  
</ul>
</div>
  </div>
</footer>


</body></html>