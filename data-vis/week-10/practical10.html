<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Layla Unger">
<title>Practical ‚Äì Data Visualisation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-3084c59541715b928ed342732e9d4313.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
</head>
<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Data Visualisation</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Welcome!</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../data-vis/data-vis.html" aria-current="page"> 
<span class="menu-text">PSY00122M-A</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/laylaunger" title="Layla on GitHub" class="quarto-navigation-tool px-1" aria-label="Layla on GitHub"><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../data-vis/week-10/overview10.html">Week 10: Shiny Apps 2</a></li><li class="breadcrumb-item"><a href="../../data-vis/week-10/practical10.html">Practical</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/data-vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualisation</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 1: Principles of Data Visualisation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/overview1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/study_before1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/seminar1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/practical1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-1/study_after1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 2: Grammar of Graphics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/overview2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/study_before2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/seminar2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/practical2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-2/study_after2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 3: Distributions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/overview3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/study_before3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/seminar3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/practical3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-3/study_after3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 4: Barplots for Categorical Data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/overview4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/study_before4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/seminar4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/practical4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-4/study_after4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 5: Relationships between Variables</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/overview5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/study_before5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/seminar5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/practical5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-5/study_after5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 6: Time Series and Line Plots</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/overview6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/study_before6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/seminar6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/practical6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-6/study_after6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 7: Advanced Customizations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/overview7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/study_before7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/seminar7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/practical7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-7/study_after7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 8: Quarto Reports</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/overview8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/study_before8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/seminar8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/practical8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-8/study_after8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 9: Shiny Apps 1</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/overview9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/study_before9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/seminar9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/practical9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-9/study_after9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 10: Shiny Apps 2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/overview10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/study_before10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Prepare!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/seminar10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Seminar</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/practical10.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Practical</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../data-vis/week-10/study_after10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Consolidate!</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
<li><a href="#session-overview" id="toc-session-overview" class="nav-link" data-scroll-target="#session-overview">Session overview</a></li>
  <li><a href="#example-app" id="toc-example-app" class="nav-link" data-scroll-target="#example-app">Example App</a></li>
  <li><a href="#philosophy" id="toc-philosophy" class="nav-link" data-scroll-target="#philosophy">Philosophy</a></li>
  </ul>
</li>
  <li>
<a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a>
  <ul class="collapse">
<li><a href="#exercise-1-create-a-new-shiny-project-folder" id="toc-exercise-1-create-a-new-shiny-project-folder" class="nav-link" data-scroll-target="#exercise-1-create-a-new-shiny-project-folder">Exercise 1: Create a new Shiny project folder</a></li>
  <li><a href="#exercise-2-create-app.r-and-load-the-data" id="toc-exercise-2-create-app.r-and-load-the-data" class="nav-link" data-scroll-target="#exercise-2-create-app.r-and-load-the-data">Exercise 2: Create <code>app.R</code> and load the data</a></li>
  <li><a href="#exercise-3-add-a-minimal-shiny-app-skeleton" id="toc-exercise-3-add-a-minimal-shiny-app-skeleton" class="nav-link" data-scroll-target="#exercise-3-add-a-minimal-shiny-app-skeleton">Exercise 3: Add a minimal Shiny app skeleton</a></li>
  <li><a href="#exercise-4-build-a-sidebar-layout-and-inputs" id="toc-exercise-4-build-a-sidebar-layout-and-inputs" class="nav-link" data-scroll-target="#exercise-4-build-a-sidebar-layout-and-inputs">Exercise 4: Build a sidebar layout and inputs</a></li>
  <li><a href="#exercise-5-add-tabs-to-the-main-panel" id="toc-exercise-5-add-tabs-to-the-main-panel" class="nav-link" data-scroll-target="#exercise-5-add-tabs-to-the-main-panel">Exercise 5: Add tabs to the main panel</a></li>
  <li><a href="#exercise-6-explore-additional-user-input-controls" id="toc-exercise-6-explore-additional-user-input-controls" class="nav-link" data-scroll-target="#exercise-6-explore-additional-user-input-controls">Exercise 6: Explore additional user input controls</a></li>
  <li><a href="#exercise-7-add-a-reactive-filtered-dataset" id="toc-exercise-7-add-a-reactive-filtered-dataset" class="nav-link" data-scroll-target="#exercise-7-add-a-reactive-filtered-dataset">Exercise 7: Add a reactive filtered dataset</a></li>
  <li><a href="#exercise-8-build-the-groups-tab-plot-with-.datainputoutcome" id="toc-exercise-8-build-the-groups-tab-plot-with-.datainputoutcome" class="nav-link" data-scroll-target="#exercise-8-build-the-groups-tab-plot-with-.datainputoutcome">Exercise 8: Build the Groups tab plot with <code>.data[[input$outcome]]</code></a></li>
  <li><a href="#exercise-9-build-the-distributions-tab-plot-with-optional-faceting" id="toc-exercise-9-build-the-distributions-tab-plot-with-optional-faceting" class="nav-link" data-scroll-target="#exercise-9-build-the-distributions-tab-plot-with-optional-faceting">Exercise 9: Build the Distributions tab plot with optional faceting</a></li>
  <li><a href="#exercise-10-review-tidy-and-reflect" id="toc-exercise-10-review-tidy-and-reflect" class="nav-link" data-scroll-target="#exercise-10-review-tidy-and-reflect">Exercise 10: Review, tidy, and reflect</a></li>
  </ul>
</li>
  <li><a href="#youre-finished" id="toc-youre-finished" class="nav-link" data-scroll-target="#youre-finished">You‚Äôre finished! üéâ</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../data-vis/week-10/overview10.html">Week 10: Shiny Apps 2</a></li><li class="breadcrumb-item"><a href="../../data-vis/week-10/practical10.html">Practical</a></li></ol></nav><div class="quarto-title">
<h1 class="title">Practical</h1>
<p class="subtitle lead">Week 10 Practical: Shiny Apps 2</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="introduction" class="level1"><h1>Introduction</h1>
<section id="session-overview" class="level2"><h2 class="anchored" data-anchor-id="session-overview">Session overview</h2>
<p>In this practical you‚Äôll extend your Shiny skills by building a small dashboard-style app using the wellbeing dataset, applying the ideas from Seminar 10:</p>
<ul>
<li>Using a <strong>sidebar layout</strong> with inputs on the left and outputs on the right<br>
</li>
<li>Creating a <strong>checkbox group filter</strong> to control which groups appear in the plots<br>
</li>
<li>Using <strong>tabs</strong> in the main panel to show <strong>multiple plots</strong> in one app<br>
</li>
<li>Writing a <strong>reactive expression</strong> with <code>reactive()</code> to create a reusable filtered dataset<br>
</li>
<li>Using <code>.data[[input$outcome]]</code> inside <code>ggplot()</code> to avoid long <code>if / else</code> blocks<br>
</li>
<li>Adding a <strong>tab-specific control</strong> (checkbox) to switch faceting on and off</li>
</ul></section><section id="example-app" class="level2"><h2 class="anchored" data-anchor-id="example-app">Example App</h2>
<p>These exercises will walk you through building an app similar to the one you saw in the seminar. You can download the finished example from the seminar (which contains extensive comments / explanations) here:</p>
<ul>
<li><a href="app.R" download="">app.R</a></li>
</ul>
<p>By the end, you should have a working <strong>multi-tab Shiny dashboard</strong> that lets you explore <strong>wellbeing and sleep across participant groups</strong>.</p>
</section><section id="philosophy" class="level2"><h2 class="anchored" data-anchor-id="philosophy">Philosophy</h2>
<p>Practicals are not a test. It is expected that you‚Äôll often be unsure what to do at first ‚Äì that‚Äôs normal. The goal is that each workshop helps you build confidence step-by-step.</p>
<p>Some tips:</p>
<ul>
<li>don‚Äôt worry about making mistakes<br>
</li>
<li>don‚Äôt let what you can‚Äôt do interfere with what you <em>can</em> do<br>
</li>
<li>discussing code with your neighbours will help<br>
</li>
<li>look things up in the independent study material<br>
</li>
<li>look things up in your own code from earlier weeks<br>
</li>
<li>there are no stupid questions</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key
</div>
</div>
<div class="callout-body-container callout-body">
<p>These four symbols are used at the beginning of each instruction so you know where to carry out the instruction.</p>
<p><img src="images/do_on_your_computer.png" class="img-fluid"> Something you need to do on your computer. It may be opening programs or documents or locating a file.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Something you should do in RStudio. It will usually involve running R code, but might also be creating folders, locating or moving files.</p>
<p><img src="images/do_on_internet.png" class="img-fluid"> Something you should do in your browser. It will usually be searching for information, going to the VLE or downloading a file.</p>
<p><img src="images/answer.png" class="img-fluid"> A question for you to think about and answer. You can record your answers in your report, app file, or notes for future reference.</p>
</div>
</div>
</section></section><section id="exercises" class="level1"><h1>Exercises</h1>
<p><strong>Important:</strong> As in Week 9, you‚Äôll build a <strong>small Shiny project</strong> from scratch.<br>
Follow the steps carefully so that your project structure stays simple and consistent with what you‚Äôll do in the final assessment.</p>
<hr>
<section id="exercise-1-create-a-new-shiny-project-folder" class="level2"><h2 class="anchored" data-anchor-id="exercise-1-create-a-new-shiny-project-folder">Exercise 1: Create a new Shiny project folder</h2>
<p>In this exercise you will create a <strong>new folder</strong> for a mini Shiny project, add a <code>data</code> subfolder for the CSV, and turn it into an <strong>RStudio project</strong>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In the <strong>Files</strong> tab in the lower right pane, click on the <code>...</code> on the right (this should say ‚ÄúGo to directory‚Äù when you hover over it). Clicking the ‚Äò‚Ä¶‚Äô will open the <em>Go to folder</em> window. Navigate to a place on your computer where you keep your work for this module (for example your <code>data-visualisation-in-r</code> folder). Click <strong>Open</strong>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In the Files tab, click on <strong>New Folder</strong>. Give your new folder a short, sensible name for this project, such as <code>week-10-shiny-dashboard</code>.</p>
<p>We‚Äôll refer to this folder as <strong><code>project_name/</code></strong> in the instructions below.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Still in the Files tab, click into your new <code>project_name/</code> folder. Then use <strong>File ‚Üí New Project‚Ä¶ ‚Üí Existing Directory</strong>, choose your <code>project_name/</code> folder, and create an <strong>R Project</strong> there.</p>
<p>You should now have:</p>
<pre><code>project_name/
  project_name.Rproj</code></pre>
<p><img src="images/do_in_R.png" class="img-fluid"> Inside <code>project_name/</code>, create a new subfolder called <code>data</code>.</p>
<pre><code>project_name/
  project_name.Rproj
  data/</code></pre>
<p>Now you‚Äôll add the data file.</p>
<p><img src="images/do_on_internet.png" class="img-fluid"> Download the wellbeing CSV file for this practical:</p>
<ul>
<li><a href="../data/wellbeing_dataset.csv">wellbeing_dataset.csv</a></li>
</ul>
<p><img src="images/do_on_your_computer.png" class="img-fluid"> Save <code>wellbeing_dataset.csv</code> <strong>inside the <code>data</code> subfolder</strong> of your new project:</p>
<pre><code>project_name/
  project_name.Rproj
  data/
    wellbeing_dataset.csv</code></pre>
</section><section id="exercise-2-create-app.r-and-load-the-data" class="level2"><h2 class="anchored" data-anchor-id="exercise-2-create-app.r-and-load-the-data">Exercise 2: Create <code>app.R</code> and load the data</h2>
<p>Next, you‚Äôll create your main <strong>Shiny app script</strong> (<code>app.R</code>) and load the data.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In RStudio, go to <strong>File ‚Üí New File ‚Üí R Script</strong>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Save this file in your <code>project_name/</code> folder with the name <strong><code>app.R</code></strong>.</p>
<p>You should now have:</p>
<pre><code>project_name/
  project_name.Rproj
  app.R
  data/
    wellbeing_dataset.csv</code></pre>
<p>Now add the code that loads your packages and data at the top of <code>app.R</code>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, add code that:</p>
<ul>
<li>Loads the <code>shiny</code> and <code>tidyverse</code> packages, and any others you might want (e.g., <code>viridis</code> for colours).<br>
</li>
<li>Reads in <code>wellbeing_dataset.csv</code> from the <code>data</code> folder and assigns it to an object called <code>wellbeing_df</code>. - Uses <code>mutate()</code> and <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> to order <code>participant_group</code> as a factor with levels <code>"student"</code>, <code>"employed"</code> and <code>"retired"</code>.<br>
</li>
<li>Sets a simple base theme, for example using <code>theme_minimal(base_size = 14)</code>.</li>
</ul>
<p>Your code will be similar in spirit to Week 9, but remember that this time you are working inside a <strong>new project folder</strong>.</p>
</section><section id="exercise-3-add-a-minimal-shiny-app-skeleton" class="level2"><h2 class="anchored" data-anchor-id="exercise-3-add-a-minimal-shiny-app-skeleton">Exercise 3: Add a minimal Shiny app skeleton</h2>
<p>A Shiny app needs three main parts:</p>
<ul>
<li>a <strong>UI</strong> that defines what the app looks like<br>
</li>
<li>a <strong>server</strong> function that defines how the app behaves<br>
</li>
<li>a final line that calls <code>shinyApp(ui = ..., server = ...)</code>
</li>
</ul>
<p>In this exercise you‚Äôll set up a minimal skeleton app that does nothing yet, but runs without errors.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, <strong>underneath</strong> the library and data-loading code from Exercise 2, add the following skeleton:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">fluidPage</span><span class="op">(</span></span>
<span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">shinyApp</span><span class="op">(</span>ui <span class="op">=</span> <span class="va">ui</span>, server <span class="op">=</span> <span class="va">server</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/do_in_R.png" class="img-fluid"> Click <strong>Run App</strong> in RStudio. You should see a mostly blank Shiny window with just a title bar and empty page.</p>
</section><section id="exercise-4-build-a-sidebar-layout-and-inputs" class="level2"><h2 class="anchored" data-anchor-id="exercise-4-build-a-sidebar-layout-and-inputs">Exercise 4: Build a sidebar layout and inputs</h2>
<p>Now you‚Äôll build a UI that uses a <strong>sidebar layout</strong>, with controls on the left and plots on the right.</p>
<p>Your UI will include:</p>
<ul>
<li>a title<br>
</li>
<li>a short instructional paragraph<br>
</li>
<li>a <strong>sidebarLayout</strong> with:
<ul>
<li>a <strong>sidebarPanel</strong> containing inputs<br>
</li>
<li>a <strong>mainPanel</strong> that will later contain tabs with plots</li>
</ul>
</li>
</ul>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, edit the <code>ui &lt;- fluidPage(...)</code> so that it contains:</p>
<ol type="1">
<li>A <code>titlePanel()</code> with a clear title, e.g.&nbsp;<code>"Wellbeing and Sleep Dashboard"</code>.<br>
</li>
<li>A short instruction paragraph with <code>p()</code>, explaining what the app shows.<br>
</li>
<li>A <code>sidebarLayout()</code> with two parts: <code>sidebarPanel()</code> and <code>mainPanel()</code>.</li>
</ol>
<p>Next, you‚Äôll add inputs to the <strong>sidebar panel</strong>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Inside <code>sidebarPanel(...)</code>, add:</p>
<ul>
<li>A <code>selectInput()</code> using the <code>inputId</code> <code>"outcome"</code> that lets the user choose between <strong>Wellbeing index</strong> and <strong>Sleep hours</strong>.
<ul>
<li>Use the <code>choices</code> and <code>selected</code> arguments to control what appears in the dropdown and which option is selected by default.<br>
</li>
<li>For example, your choices vector should map readable labels to column names in the data (e.g., <code>"Wellbeing index" = "wellbeing_index"</code>).</li>
</ul>
</li>
<li>A <code>checkboxGroupInput()</code> using the <code>inputId</code> <code>"group_filter"</code> that lets the user choose which <strong>participant groups</strong> to include: <code>"student"</code>, <code>"employed"</code> and <code>"retired"</code>.
<ul>
<li>Use the <code>choices</code> argument to list these three groups.<br>
</li>
<li>Use the <code>selected</code> argument to make all three groups selected by default.</li>
</ul>
</li>
</ul>
<p>Make sure that all of these lines live <strong>inside</strong> the parentheses of <code>sidebarPanel(...)</code>, which itself lives inside <code>sidebarLayout(...)</code>.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code>, then click <strong>Run App</strong> again. You should now see your title, instruction text, a dropdown menu, a group of checkboxes, and an empty main panel on the right.</p>
</section><section id="exercise-5-add-tabs-to-the-main-panel" class="level2"><h2 class="anchored" data-anchor-id="exercise-5-add-tabs-to-the-main-panel">Exercise 5: Add tabs to the main panel</h2>
<p>Now you‚Äôll add <strong>multiple tabs</strong> in the main panel so your app can show more than one plot.</p>
<p>You‚Äôll create two tabs:</p>
<ul>
<li>A tab that compares outcomes <strong>across participant groups</strong><br>
</li>
<li>A tab that shows <strong>distributions</strong> of the selected outcome, with an option to facet by group</li>
</ul>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, edit the <code>mainPanel(...)</code> so that it uses <code>tabsetPanel()</code> with two <code>tabPanel()</code>s:</p>
<ul>
<li>A first tab called <code>"Groups"</code> that contains a <code>plotOutput("group_plot")</code>.<br>
</li>
<li>A second tab called <code>"Distributions"</code> that contains:
<ul>
<li>A <code>checkboxInput()</code> with <code>inputId = "facet_by_group"</code> that controls whether to show separate panels for each group (default value <code>FALSE</code>).<br>
</li>
<li>A <code>plotOutput("distribution_plot")</code>.</li>
</ul>
</li>
</ul>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code> and click <strong>Run App</strong>. You should now see:</p>
<ul>
<li>Tabs called <strong>Groups</strong> and <strong>Distributions</strong> in the main panel<br>
</li>
<li>Under <strong>Distributions</strong>, a checkbox and an empty plot area</li>
</ul>
<p>The app won‚Äôt draw any plots yet - you‚Äôll add code to make the app draw plots in a later step.</p>
</section><section id="exercise-6-explore-additional-user-input-controls" class="level2"><h2 class="anchored" data-anchor-id="exercise-6-explore-additional-user-input-controls">Exercise 6: Explore additional user input controls</h2>
<p>We‚Äôve covered some useful user input controls, including dropdown menus, single checkboxes, and groups of checkboxes. However, these aren‚Äôt the only controls available! When creating apps in the future (for your final assessment and beyond), you may want to include other controls. You can find the full set of controls you can implement in Shiny by following the link below. Note that these controls are referred to as ‚Äúwidgets‚Äù.</p>
<p><img src="images/do_on_internet.png" class="img-fluid"> Explore the <a href="https://shiny.posit.co/r/gallery/widgets/widget-gallery/">Widget Gallery</a></p>
<p><img src="images/answer.png" class="img-fluid"> What other widgets might be useful in the future? Radio buttons? Sliders?</p>
</section><section id="exercise-7-add-a-reactive-filtered-dataset" class="level2"><h2 class="anchored" data-anchor-id="exercise-7-add-a-reactive-filtered-dataset">Exercise 7: Add a reactive filtered dataset</h2>
<p>In Seminar 10, you saw how to use a <strong>reactive expression</strong> to create a function that returns a filtered dataset based on user input.</p>
<p>Here, you‚Äôll create a <code>filtered_data()</code> function that:</p>
<ul>
<li>Starts from <code>wellbeing_df</code><br>
</li>
<li>Keeps only observations whose <code>participant_group</code> is in <code>input$group_filter</code><br>
</li>
<li>Updates automatically whenever the user changes the group checkboxes</li>
</ul>
<p>Remember: <code>input$group_filter</code> is a <strong>vector of strings</strong> (e.g., <code>c("student", "employed", "retired")</code>). The specific strings in this vector depend on which boxes are ticked.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, go to the <code>server</code> function. Inside the curly braces <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>, <strong>above</strong> any plotting code, add a reactive expression:</p>
<ul>
<li>Use <code>filtered_data &lt;- reactive({ ... })</code><br>
</li>
<li>Inside the curly braces for <code>reactive({ ... })</code>, write tidyverse code that:
<ul>
<li>Starts from <code>wellbeing_df</code><br>
</li>
<li>Uses <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> with <code>%in%</code> and <code>input$group_filter</code> to keep only rows whose <code>participant_group</code> is currently selected</li>
</ul>
</li>
</ul>
<p><img src="images/answer.png" class="img-fluid"> What is one advantage of using a <code>filtered_data()</code> reactive expression instead of repeating the same <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> code inside each plot?</p>
</section><section id="exercise-8-build-the-groups-tab-plot-with-.datainputoutcome" class="level2"><h2 class="anchored" data-anchor-id="exercise-8-build-the-groups-tab-plot-with-.datainputoutcome">Exercise 8: Build the Groups tab plot with <code>.data[[input$outcome]]</code>
</h2>
<p>Next, you‚Äôll create the plot for the <strong>Groups</strong> tab. To create this plot:</p>
<ol type="1">
<li>Use a simple <code>if/else</code> block to set the y-axis <strong>label</strong> based on <code>input$outcome</code>
</li>
<li>Use <code>filtered_data()</code> so it only shows selected groups<br>
</li>
<li>Put <code>participant_group</code> on the x-axis<br>
</li>
<li>Put the <strong>selected outcome</strong> (wellbeing or sleep) on the y-axis using <code>.data[[input$outcome]]</code>
</li>
<li>Use boxplots coloured by group</li>
</ol>
<p><img src="images/do_in_R.png" class="img-fluid"> Still inside the <code>server</code> function, add code to create an output called <code>group_plot</code> using <code>renderPlot()</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">group_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># you will write code here that:</span></span>
<span>  <span class="co"># uses an if/else statement to set the y-axis label based on input$outcome</span></span>
<span>  <span class="co"># filters data and pipes it into a ggplot</span></span>
<span>  <span class="co"># creates a ggplot that puts `participant_group` on the x-axis </span></span>
<span>  <span class="co"># and `.data[[input$outcome]]` for on the y-axis</span></span>
<span>  <span class="co"># adds ggplot layer(s) to create colored boxplots</span></span>
<span>  <span class="co"># adds any labs, colors, fills, and theme option layers </span></span>
<span></span>
<span><span class="op">}</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code> and click <strong>Run App</strong>. Try:</p>
<ul>
<li>Checking and unchecking different <strong>participant groups</strong> in the sidebar<br>
</li>
<li>Switching between <strong>Wellbeing index</strong> and <strong>Sleep hours</strong> in the dropdown</li>
</ul>
<p>The <strong>Groups</strong> tab plot should update to show only selected groups and the chosen outcome on the y-axis.</p>
<p><img src="images/answer.png" class="img-fluid"> What does <code>.data[[input$outcome]]</code> do inside <code>aes()</code>?</p>
</section><section id="exercise-9-build-the-distributions-tab-plot-with-optional-faceting" class="level2"><h2 class="anchored" data-anchor-id="exercise-9-build-the-distributions-tab-plot-with-optional-faceting">Exercise 9: Build the Distributions tab plot with optional faceting</h2>
<p>Now you‚Äôll create a second plot for the <strong>Distributions</strong> tab. This plot will:</p>
<ol type="1">
<li>Use <code>filtered_data()</code> so it respects the group filter<br>
</li>
<li>Show the <strong>distribution</strong> of the selected outcome<br>
</li>
<li>Colour by <code>participant_group</code><br>
</li>
<li>Optionally use <code>facet_wrap(~ participant_group)</code> when the checkbox is ticked</li>
</ol>
<p><img src="images/do_in_R.png" class="img-fluid"> Inside the <code>server</code> function, add another output called <code>distribution_plot</code> using <code>renderPlot()</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">output</span><span class="op">$</span><span class="va">distribution_plot</span> <span class="op">&lt;-</span> <span class="fu">renderPlot</span><span class="op">(</span><span class="op">{</span></span>
<span></span>
<span>  <span class="co"># Your code should have the following steps:</span></span>
<span>  <span class="co">#</span></span>
<span>  <span class="co"># A small if / else block at the top to set x_lab based on input$outcome</span></span>
<span>  <span class="co">#</span></span>
<span>  <span class="co"># Create a plot object named dist_plot that:</span></span>
<span>  <span class="co"># - Starts from filtered_data()  </span></span>
<span>  <span class="co"># - Pipes filtered_data() into ggplot()  </span></span>
<span>  <span class="co"># - Uses aes(x = .data[[input$outcome]])  </span></span>
<span>  <span class="co"># - Shows the distribution of the selected outcome using a histogram or density plot,</span></span>
<span>  <span class="co">#   with aes(fill = participant_group) to show overlapping distributions by group</span></span>
<span>  <span class="co"># - Uses labs(), custom colors/fills and theme layers</span></span>
<span>  <span class="co">#</span></span>
<span>  <span class="co"># A final line that is just dist_plot, to draw the plot</span></span>
<span></span>
<span></span>
<span><span class="op">}</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code> and click <strong>Run App</strong>. Try:</p>
<ul>
<li>Checking and unchecking different <strong>participant groups</strong> in the sidebar<br>
</li>
<li>Switching between <strong>Wellbeing index</strong> and <strong>Sleep hours</strong> in the dropdown</li>
</ul>
<p>Check that the Distributions tab responds as expected (it won‚Äôt yet respond to the ‚ÄúShow separate panels‚Äù checkbox - we‚Äôll do that next).</p>
<p><img src="images/do_in_R.png" class="img-fluid"> Now make your plot respond to the ‚ÄúShow separate panels‚Äù checkbox:</p>
<ul>
<li>Go back inside the <code>server</code> function, after the code for the base plot</li>
<li>Add a little <code>if(){...}</code> block that checks the value of <code>input$facet_by_group</code> and if the value is TRUE, adds a <code>facet_wrap()</code> layer to the base plot to facet by <code>participant_group</code>
</li>
</ul>
<p><img src="images/do_in_R.png" class="img-fluid"> Save <code>app.R</code> and click <strong>Run App</strong>. Try:</p>
<ul>
<li>Ticking and unticking <strong>Show separate panels for each group</strong>
</li>
</ul>
<p>Now the Distributions tab should be fully functional.</p>
</section><section id="exercise-10-review-tidy-and-reflect" class="level2"><h2 class="anchored" data-anchor-id="exercise-10-review-tidy-and-reflect">Exercise 10: Review, tidy, and reflect</h2>
<p>In this final exercise, you‚Äôll tidy your app and make sure you understand how each part works.</p>
<p><img src="images/do_in_R.png" class="img-fluid"> In <code>app.R</code>, add a few short <strong>comments</strong> (lines starting with <code>#</code>) to remind your future self what each section does</p>
<p><img src="images/answer.png" class="img-fluid"> Looking back at your Week 9 app and this Week 10 dashboard, what are <strong>two key differences</strong> in how you structure and reuse code in Shiny?</p>
<p>You now have a <strong>multi-tab Shiny app</strong> that:</p>
<ul>
<li>uses <code>sidebarLayout()</code> and <code>tabsetPanel()</code><br>
</li>
<li>uses a <strong>reactive filtered dataset</strong><br>
</li>
<li>efficiently looks up different outcome variables with <code>.data[[input$outcome]]</code><br>
</li>
<li>and includes a tab-specific control for faceting</li>
</ul>
<p>You can use any of these features in the <strong>final assessment</strong>.</p>
</section></section><section id="youre-finished" class="level1"><h1>You‚Äôre finished! üéâ</h1>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("^(?:http:|https:)\/\/laylaunger\.github\.io\/data-vis");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>Data Visualisation</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="https://github.com/laylaunger">
<p>Layla on GitHub</p>
</a>
  </li>  
</ul>
</div>
  </div>
</footer>


</body></html>